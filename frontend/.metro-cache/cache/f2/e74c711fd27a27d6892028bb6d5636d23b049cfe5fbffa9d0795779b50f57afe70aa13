{"dependencies":[{"name":"expo-network","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":40,"index":40}}],"key":"1uj8I4G/JNBf3YRANaksFTH4dPs=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":41},"end":{"line":2,"column":69,"index":110}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"./LocalDatabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":111},"end":{"line":3,"column":85,"index":196}}],"key":"4OHGfS3RYJ9C2KSqX1/pnZT0rg0=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,_i,a,m,_e,_d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"SyncService\",{enumerable:!0,get:function(){return s}}),Object.defineProperty(_e,\"syncService\",{enumerable:!0,get:function(){return c}});var e,t=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[0])),n=r(_d[1]),o=(e=n)&&e.__esModule?e:{default:e},i=r(_d[2]);class s{syncInterval=null;isInitialized=!1;constructor(){this.backendUrl=process.env.EXPO_PUBLIC_BACKEND_URL||'https://smoothroad.emergent.host/',console.log('\\ud83d\\udd17 SyncService backend URL:',this.backendUrl)}async initialize(){if(!this.isInitialized)try{await i.localDB.initialize(),this.startPeriodicSync(),this.isInitialized=!0,console.log('\\u2705 Sync service initialized')}catch(e){throw console.error('\\u274c Sync service initialization error:',e),e}}startPeriodicSync(){this.syncInterval=setInterval(async()=>{(await t.getNetworkStateAsync()).isConnected&&await this.syncWithServer()},3e4)}async stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null)}async syncWithServer(){try{return(await t.getNetworkStateAsync()).isConnected?(console.log('\\ud83d\\udd04 Starting sync with server...'),await this.uploadSensorData(),await this.downloadUpdatedWarnings(),await o.default.setItem('last_sync_time',(new Date).toISOString()),await i.localDB.cleanupOldData(30),console.log('\\u2705 Sync completed successfully'),!0):(console.log('\\ud83d\\udce1 No internet connection - sync skipped'),!1)}catch(e){return console.error('\\u274c Sync error:',e),!1}}async uploadSensorData(){const e=await i.localDB.getUnsyncedSensorData();if(0!==e.length){console.log(`\\ud83d\\udce4 Uploading ${e.length} sensor data records...`);try{const t=50;for(let n=0;n<e.length;n+=t){const o=e.slice(n,n+t),s=await fetch(`${this.backendUrl}api/sensor-data/batch`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({data:o.map(e=>({latitude:e.latitude,longitude:e.longitude,timestamp:e.timestamp,speed:e.speed,accuracy:e.accuracy,accelerometer:e.accelerometer,road_quality_score:e.roadQuality}))})});if(s.ok){const c=await s.json(),l=o.map(e=>e.id),d=c.inserted_ids||[];await i.localDB.markSensorDataSynced(l,d),console.log(`\\u2705 Uploaded batch ${Math.floor(n/t)+1}/${Math.ceil(e.length/t)}`)}else console.error(`\\u274c Failed to upload batch: ${s.status}`)}}catch(e){console.error('\\u274c Upload sensor data error:',e)}}else console.log('\\ud83d\\udce4 No unsynced sensor data to upload')}async downloadUpdatedWarnings(){try{const e=await i.localDB.getDownloadedRegions();for(const t of e){const e=await fetch(`${this.backendUrl}api/warnings/region/${t.code}?since=${t.lastSync}`);if(e.ok){const n=await e.json();if(n.length>0){const e=n.map(e=>({serverId:e._id,latitude:e.latitude,longitude:e.longitude,hazardType:e.hazard_type,severity:e.severity,description:e.description,isVerified:e.is_verified,region:t.code,city:e.city||'',country:e.country||'',lastUpdated:e.updated_at||(new Date).toISOString()}));await i.localDB.saveWarnings(e),await i.localDB.updateRegionSyncStatus(t.code,t.name,n.length),console.log(`\\ud83d\\udce5 Downloaded ${n.length} warnings for ${t.name}`)}}}}catch(e){console.error('\\u274c Download warnings error:',e)}}async downloadRegionData(e,n,o){try{if(!(await t.getNetworkStateAsync()).isConnected)throw new Error('No internet connection');console.log(`\\ud83d\\udce5 Downloading data for region: ${n}...`);const s=await fetch(`${this.backendUrl}api/warnings/region/${e}/full?north=${o.north}&south=${o.south}&east=${o.east}&west=${o.west}`);if(!s.ok)throw new Error(`Failed to download region data: ${s.status}`);const c=await s.json(),l=c.map(t=>({serverId:t._id,latitude:t.latitude,longitude:t.longitude,hazardType:t.hazard_type,severity:t.severity,description:t.description,isVerified:t.is_verified,region:e,city:t.city||'',country:t.country||'',lastUpdated:t.updated_at||(new Date).toISOString()}));return await i.localDB.saveWarnings(l),await i.localDB.updateRegionSyncStatus(e,n,c.length),console.log(`\\u2705 Downloaded ${c.length} warnings for ${n}`),!0}catch(e){return console.error(`\\u274c Failed to download region ${n}:`,e),!1}}async getAvailableRegions(){try{if(!(await t.getNetworkStateAsync()).isConnected)return[];const e=await fetch(`${this.backendUrl}api/regions/available`);return e.ok?await e.json():[]}catch(e){return console.error('\\u274c Failed to get available regions:',e),[]}}async saveOfflineSensorData(e,t,n,o,s,c){const l={latitude:e,longitude:t,timestamp:(new Date).toISOString(),speed:n,accuracy:o,accelerometer:s,roadQuality:c,isSynced:!1};return await i.localDB.saveSensorData(l)}async getNearbyWarningsOffline(e,t,n=1){return await i.localDB.getNearbyWarnings(e,t,n)}async getSyncStatus(){return await i.localDB.getSyncStatus()}async getDatabaseStats(){return await i.localDB.getDatabaseStats()}async forceFullSync(){return console.log('\\ud83d\\udd04 Forcing full sync...'),await this.syncWithServer()}async clearLocalData(){console.log('\\ud83d\\uddd1\\ufe0f Clearing all local data...')}}const c=new s});","lineCount":1,"map":[[1,94,17,0,"Object"],[1,101,17,0,"defineProperty"],[1,116,17,0,"_e"],[1,119,17,0],[1,134,17,0,"enumerable"],[1,146,17,0],[1,148,17,0,"get"],[1,152,17,0],[1,170,17,0,"SyncService"],[1,171,17,0],[1,175,303,0,"Object"],[1,182,303,0,"defineProperty"],[1,197,303,0,"_e"],[1,200,303,0],[1,215,303,0,"enumerable"],[1,227,303,0],[1,229,303,0,"get"],[1,233,303,0],[1,251,303,0,"syncService"],[1,252,303,0],[1,256,1,0],[1,260],[1,262,1,0,"Network"],[1,265],[1,498,1,0,"_interopNamespace"],[1,499,1,0,"r"],[1,501,1,0,"_d"],[1,504,1,0],[1,509,2,0,"_reactNativeAsyncStorageAsyncStorage"],[1,511,2,0,"r"],[1,513,2,0,"_d"],[1,516,2,0],[1,520,2,0,"AsyncStorage"],[1,523],[1,525,2,0,"_reactNativeAsyncStorageAsyncStorage"],[1,529],[1,556,3,0,"_LocalDatabase"],[1,558,3,0,"r"],[1,560,3,0,"_d"],[1,563,3,0],[1,567,17,7],[1,573,17,13,"SyncService"],[1,575,19,10,"syncInterval"],[1,588,19,48],[1,593,20,10,"isInitialized"],[1,608,20,26],[1,610,22,2,"constructor"],[1,624,23,4,"this"],[1,629,23,9,"backendUrl"],[1,640,23,22,"process"],[1,648,23,30,"env"],[1,652,23,34,"EXPO_PUBLIC_BACKEND_URL"],[1,677,23,61],[1,713,24,4,"console"],[1,721,24,12,"log"],[1,725,24,16],[1,765,24,47,"this"],[1,770,24,52,"backendUrl"],[1,781,25,2],[1,782,27,2],[1,798,27,8,"initialize"],[1,801,28,4],[1,805,28,8,"this"],[1,810,28,13,"isInitialized"],[1,824,30,4],[1,834,31,12,"localDB"],[1,836,31,19,"localDB"],[1,844,31,20,"initialize"],[1,857,32,6,"this"],[1,862,32,11,"startPeriodicSync"],[1,882,33,6,"this"],[1,887,33,11,"isInitialized"],[1,902,33,27],[1,904,35,6,"console"],[1,912,35,14,"log"],[1,916,35,18],[1,950,36,4],[1,951,36,6],[1,957,36,13,"error"],[1,960,38,6],[1,966,37,6,"console"],[1,974,37,14,"error"],[1,980,37,20],[1,1024,37,60,"error"],[1,1027,38,12,"error"],[1,1028,39,4],[1,1029,40,2],[1,1030,43,10,"startPeriodicSync"],[1,1050,45,4,"this"],[1,1055,45,9,"syncInterval"],[1,1068,45,24,"setInterval"],[1,1080,45,36,"async"],[1,1097,46,33,"Network"],[1,1099,46,41,"getNetworkStateAsync"],[1,1123,47,23,"isConnected"],[1,1142,48,14,"this"],[1,1147,48,19,"syncWithServer"],[1,1165,50,7],[1,1169,51,2],[1,1170,53,2],[1,1192,53,8,"stopPeriodicSync"],[1,1195,54,8,"this"],[1,1200,54,13,"syncInterval"],[1,1215,55,6,"clearInterval"],[1,1229,55,20,"this"],[1,1234,55,25,"syncInterval"],[1,1248,56,6,"this"],[1,1253,56,11,"syncInterval"],[1,1266,56,26],[1,1271,58,2],[1,1272,61,2],[1,1292,61,8,"syncWithServer"],[1,1295,62,4],[1,1299,64,6],[1,1312,63,33,"Network"],[1,1314,63,41,"getNetworkStateAsync"],[1,1338,64,24,"isConnected"],[1,1351,69,6,"console"],[1,1359,69,14,"log"],[1,1363,69,18],[1,1414,72,12,"this"],[1,1419,72,17,"uploadSensorData"],[1,1444,75,12,"this"],[1,1449,75,17,"downloadUpdatedWarnings"],[1,1481,78,12,"AsyncStorage"],[1,1483,78,24,"default"],[1,1491,78,25,"setItem"],[1,1499,78,33],[1,1517,78,51],[1,1521,78,55,"Date"],[1,1527,78,62,"toISOString"],[1,1548,81,12,"localDB"],[1,1550,81,19,"localDB"],[1,1558,81,20,"cleanupOldData"],[1,1573,81,35],[1,1577,83,6,"console"],[1,1585,83,14,"log"],[1,1589,83,18],[1,1628,84,13],[1,1632,65,8,"console"],[1,1640,65,16,"log"],[1,1644,65,20],[1,1699,66,15],[1,1701,85,4],[1,1702,85,6],[1,1708,85,13,"error"],[1,1711,87,6],[1,1718,86,6,"console"],[1,1726,86,14,"error"],[1,1732,86,20],[1,1753,86,37,"error"],[1,1757,87,13],[1,1758,88,4],[1,1759,89,2],[1,1760,92,2],[1,1782,92,16,"uploadSensorData"],[1,1785,93,4],[1,1791,93,10,"unsyncedData"],[1,1799,93,31,"localDB"],[1,1801,93,38,"localDB"],[1,1809,93,39,"getUnsyncedSensorData"],[1,1833,94,4],[1,1836,94,32],[1,1840,94,8,"unsyncedData"],[1,1842,94,21,"length"],[1,1849,94,4],[1,1850,99,4,"console"],[1,1858,99,12,"log"],[1,1862,99,16],[1,1888,99,32,"unsyncedData"],[1,1890,99,45,"length"],[1,1923,101,4],[1,1927,103,6],[1,1933,103,12,"batchSize"],[1,1935,103,24],[1,1938,104,6],[1,1942,104,11],[1,1946,104,15,"i"],[1,1948,104,19],[1,1950,104,22,"i"],[1,1952,104,26,"unsyncedData"],[1,1954,104,39,"length"],[1,1961,104,47,"i"],[1,1964,104,52,"batchSize"],[1,1966,104,63],[1,1967,105,8],[1,1973,105,14,"batch"],[1,1975,105,22,"unsyncedData"],[1,1977,105,35,"slice"],[1,1983,105,41,"i"],[1,1985,105,44,"i"],[1,1987,105,48,"batchSize"],[1,1990,107,14,"response"],[1,1998,107,31,"fetch"],[1,2004,107,37],[1,2007,107,40,"this"],[1,2012,107,45,"backendUrl"],[1,2046,107,80],[1,2047,108,10,"method"],[1,2054,108,18],[1,2061,109,10,"headers"],[1,2069,109,19],[1,2070,110,12],[1,2085,110,28],[1,2105,112,10,"body"],[1,2110,112,16,"JSON"],[1,2115,112,21,"stringify"],[1,2125,112,31],[1,2126,113,12,"data"],[1,2131,113,18,"batch"],[1,2133,113,24,"map"],[1,2137,113,28,"item"],[1,2141,113,32],[1,2142,114,14,"latitude"],[1,2151,114,24,"item"],[1,2153,114,29,"latitude"],[1,2162,115,14,"longitude"],[1,2172,115,25,"item"],[1,2174,115,30,"longitude"],[1,2184,116,14,"timestamp"],[1,2194,116,25,"item"],[1,2196,116,30,"timestamp"],[1,2206,117,14,"speed"],[1,2212,117,21,"item"],[1,2214,117,26,"speed"],[1,2220,118,14,"accuracy"],[1,2229,118,24,"item"],[1,2231,118,29,"accuracy"],[1,2240,119,14,"accelerometer"],[1,2254,119,29,"item"],[1,2256,119,34,"accelerometer"],[1,2270,120,14,"road_quality_score"],[1,2289,120,34,"item"],[1,2291,120,39,"roadQuality"],[1,2310,125,8],[1,2313,125,12,"response"],[1,2315,125,21,"ok"],[1,2318,125,25],[1,2319,126,10],[1,2325,126,16,"result"],[1,2333,126,31,"response"],[1,2335,126,40,"json"],[1,2342,127,16,"localIds"],[1,2344,127,27,"batch"],[1,2346,127,33,"map"],[1,2350,127,37,"item"],[1,2353,127,45,"item"],[1,2355,127,50,"id"],[1,2359,128,16,"serverIds"],[1,2361,128,28,"result"],[1,2363,128,35,"inserted_ids"],[1,2377,128,51],[1,2386,131,16,"localDB"],[1,2388,131,23,"localDB"],[1,2396,131,24,"markSensorDataSynced"],[1,2417,131,45,"localIds"],[1,2419,131,55,"serverIds"],[1,2422,133,10,"console"],[1,2430,133,18,"log"],[1,2434,133,22],[1,2459,133,42,"Math"],[1,2464,133,47,"floor"],[1,2470,133,53,"i"],[1,2472,133,55,"batchSize"],[1,2475,133,68],[1,2480,133,73,"Math"],[1,2485,133,78,"ceil"],[1,2490,133,83,"unsyncedData"],[1,2492,133,96,"length"],[1,2499,133,103,"batchSize"],[1,2504,134,8],[1,2510,135,10,"console"],[1,2518,135,18,"error"],[1,2524,135,24],[1,2558,135,53,"response"],[1,2560,135,62,"status"],[1,2569,137,6],[1,2570,138,4],[1,2571,138,6],[1,2577,138,13,"error"],[1,2580,139,6,"console"],[1,2588,139,14,"error"],[1,2594,139,20],[1,2629,139,51,"error"],[1,2631,140,4],[1,2632,97,4],[1,2638,95,6,"console"],[1,2646,95,14,"log"],[1,2650,95,18],[1,2699,141,2],[1,2700,144,2],[1,2729,144,16,"downloadUpdatedWarnings"],[1,2732,145,4],[1,2736,146,6],[1,2742,146,12,"downloadedRegions"],[1,2750,146,38,"localDB"],[1,2752,146,45,"localDB"],[1,2760,146,46,"getDownloadedRegions"],[1,2783,148,6],[1,2787,148,11],[1,2793,148,17,"region"],[1,2798,148,27,"downloadedRegions"],[1,2800,148,46],[1,2801,149,8],[1,2807,149,14,"response"],[1,2815,149,31,"fetch"],[1,2821,150,10],[1,2824,150,13,"this"],[1,2829,150,18,"backendUrl"],[1,2862,150,51,"region"],[1,2864,150,58,"code"],[1,2878,150,72,"region"],[1,2880,150,79,"lastSync"],[1,2892,153,8],[1,2895,153,12,"response"],[1,2897,153,21,"ok"],[1,2900,153,25],[1,2901,154,10],[1,2907,154,16,"warnings"],[1,2915,154,33,"response"],[1,2917,154,42,"json"],[1,2924,156,10],[1,2927,156,14,"warnings"],[1,2929,156,23,"length"],[1,2936,156,32],[1,2938,156,35],[1,2939,157,12],[1,2945,157,18,"localWarnings"],[1,2947,157,50,"warnings"],[1,2949,157,59,"map"],[1,2953,157,64,"w"],[1,2957,157,70],[1,2958,158,14,"serverId"],[1,2967,158,24,"w"],[1,2969,158,26,"_id"],[1,2973,159,14,"latitude"],[1,2982,159,24,"w"],[1,2984,159,26,"latitude"],[1,2993,160,14,"longitude"],[1,3003,160,25,"w"],[1,3005,160,27,"longitude"],[1,3015,161,14,"hazardType"],[1,3026,161,26,"w"],[1,3028,161,28,"hazard_type"],[1,3040,162,14,"severity"],[1,3049,162,24,"w"],[1,3051,162,26,"severity"],[1,3060,163,14,"description"],[1,3072,163,27,"w"],[1,3074,163,29,"description"],[1,3086,164,14,"isVerified"],[1,3097,164,26,"w"],[1,3099,164,28,"is_verified"],[1,3111,165,14,"region"],[1,3118,165,22,"region"],[1,3120,165,29,"code"],[1,3125,166,14,"city"],[1,3130,166,20,"w"],[1,3132,166,22,"city"],[1,3138,166,30],[1,3141,167,14,"country"],[1,3149,167,23,"w"],[1,3151,167,25,"country"],[1,3160,167,36],[1,3163,168,14,"lastUpdated"],[1,3175,168,27,"w"],[1,3177,168,29,"updated_at"],[1,3190,168,43],[1,3194,168,47,"Date"],[1,3200,168,54,"toISOString"],[1,3223,171,18,"localDB"],[1,3225,171,25,"localDB"],[1,3233,171,26,"saveWarnings"],[1,3246,171,39,"localWarnings"],[1,3255,172,18,"localDB"],[1,3257,172,25,"localDB"],[1,3265,172,26,"updateRegionSyncStatus"],[1,3288,173,14,"region"],[1,3290,173,21,"code"],[1,3295,174,14,"region"],[1,3297,174,21,"name"],[1,3302,175,14,"warnings"],[1,3304,175,23,"length"],[1,3312,178,12,"console"],[1,3320,178,20,"log"],[1,3324,178,24],[1,3351,178,41,"warnings"],[1,3353,178,50,"length"],[1,3376,178,73,"region"],[1,3378,178,80,"name"],[1,3385,179,10],[1,3386,180,8],[1,3387,181,6],[1,3388,182,4],[1,3389,182,6],[1,3395,182,13,"error"],[1,3398,183,6,"console"],[1,3406,183,14,"error"],[1,3412,183,20],[1,3446,183,50,"error"],[1,3448,184,4],[1,3449,185,2],[1,3450,188,2],[1,3474,188,8,"downloadRegionData"],[1,3475,188,27,"regionCode"],[1,3477,188,47,"regionName"],[1,3479,188,67,"bounds"],[1,3482,189,4],[1,3486,191,6],[1,3497,190,33,"Network"],[1,3499,190,41,"getNetworkStateAsync"],[1,3523,191,24,"isConnected"],[1,3535,192,8],[1,3541,192,14],[1,3545,192,18,"Error"],[1,3551,192,24],[1,3577,195,6,"console"],[1,3585,195,14,"log"],[1,3589,195,18],[1,3634,195,53,"regionName"],[1,3642,197,6],[1,3648,197,12,"response"],[1,3656,197,29,"fetch"],[1,3662,198,8],[1,3665,198,11,"this"],[1,3670,198,16,"backendUrl"],[1,3703,198,49,"regionCode"],[1,3719,199,17,"bounds"],[1,3721,199,24,"north"],[1,3736,199,39,"bounds"],[1,3738,199,46,"south"],[1,3752,199,60,"bounds"],[1,3754,199,67,"east"],[1,3767,199,80,"bounds"],[1,3769,199,87,"west"],[1,3777,202,6],[1,3781,202,11,"response"],[1,3783,202,20,"ok"],[1,3786,203,8],[1,3792,203,14],[1,3796,203,18,"Error"],[1,3802,203,24],[1,3837,203,59,"response"],[1,3839,203,68,"status"],[1,3849,206,6],[1,3855,206,12,"warnings"],[1,3863,206,29,"response"],[1,3865,206,38,"json"],[1,3872,208,12,"localWarnings"],[1,3874,208,44,"warnings"],[1,3876,208,53,"map"],[1,3880,208,58,"w"],[1,3884,208,64],[1,3885,209,8,"serverId"],[1,3894,209,18,"w"],[1,3896,209,20,"_id"],[1,3900,210,8,"latitude"],[1,3909,210,18,"w"],[1,3911,210,20,"latitude"],[1,3920,211,8,"longitude"],[1,3930,211,19,"w"],[1,3932,211,21,"longitude"],[1,3942,212,8,"hazardType"],[1,3953,212,20,"w"],[1,3955,212,22,"hazard_type"],[1,3967,213,8,"severity"],[1,3976,213,18,"w"],[1,3978,213,20,"severity"],[1,3987,214,8,"description"],[1,3999,214,21,"w"],[1,4001,214,23,"description"],[1,4013,215,8,"isVerified"],[1,4024,215,20,"w"],[1,4026,215,22,"is_verified"],[1,4038,216,8,"region"],[1,4045,216,16,"regionCode"],[1,4047,217,8,"city"],[1,4052,217,14,"w"],[1,4054,217,16,"city"],[1,4060,217,24],[1,4063,218,8,"country"],[1,4071,218,17,"w"],[1,4073,218,19,"country"],[1,4082,218,30],[1,4085,219,8,"lastUpdated"],[1,4097,219,21,"w"],[1,4099,219,23,"updated_at"],[1,4112,219,37],[1,4116,219,41,"Date"],[1,4122,219,48,"toISOString"],[1,4139,226,6],[1,4152,222,12,"localDB"],[1,4154,222,19,"localDB"],[1,4162,222,20,"saveWarnings"],[1,4175,222,33,"localWarnings"],[1,4184,223,12,"localDB"],[1,4186,223,19,"localDB"],[1,4194,223,20,"updateRegionSyncStatus"],[1,4217,223,43,"regionCode"],[1,4219,223,55,"regionName"],[1,4221,223,67,"warnings"],[1,4223,223,76,"length"],[1,4231,225,6,"console"],[1,4239,225,14,"log"],[1,4243,225,18],[1,4264,225,34,"warnings"],[1,4266,225,43,"length"],[1,4289,225,66,"regionName"],[1,4295,226,13],[1,4296,227,4],[1,4297,227,6],[1,4303,227,13,"error"],[1,4306,229,6],[1,4313,228,6,"console"],[1,4321,228,14,"error"],[1,4327,228,20],[1,4363,228,51,"regionName"],[1,4368,228,66,"error"],[1,4372,229,13],[1,4373,230,4],[1,4374,231,2],[1,4375,233,2],[1,4400,233,8,"getAvailableRegions"],[1,4403,234,4],[1,4407,236,6],[1,4418,235,33,"Network"],[1,4420,235,41,"getNetworkStateAsync"],[1,4444,236,24,"isConnected"],[1,4456,237,8],[1,4462,237,15],[1,4465,240,6],[1,4471,240,12,"response"],[1,4479,240,29,"fetch"],[1,4485,240,35],[1,4488,240,38,"this"],[1,4493,240,43,"backendUrl"],[1,4528,241,6],[1,4535,241,11,"response"],[1,4537,241,20,"ok"],[1,4546,243,19,"response"],[1,4548,243,28,"json"],[1,4555,241,31],[1,4557,244,4],[1,4558,244,6],[1,4564,244,13,"error"],[1,4567,246,6],[1,4574,245,6,"console"],[1,4582,245,14,"error"],[1,4588,245,20],[1,4630,245,58,"error"],[1,4633,246,13],[1,4635,247,4],[1,4636,248,2],[1,4637,251,2],[1,4664,251,8,"saveOfflineSensorData"],[1,4665,252,4,"latitude"],[1,4667,253,4,"longitude"],[1,4669,254,4,"speed"],[1,4671,255,4,"accuracy"],[1,4673,256,4,"accelerometer"],[1,4675,257,4,"roadQuality"],[1,4678,259,4],[1,4684,259,10,"sensorData"],[1,4686,259,66],[1,4687,260,6,"latitude"],[1,4698,261,6,"longitude"],[1,4710,262,6,"timestamp"],[1,4721,262,17],[1,4725,262,21,"Date"],[1,4731,262,28,"toISOString"],[1,4745,263,6,"speed"],[1,4753,264,6,"accuracy"],[1,4764,265,6,"accelerometer"],[1,4780,266,6,"roadQuality"],[1,4794,267,6,"isSynced"],[1,4804,267,16],[1,4807,270,4],[1,4820,270,17,"localDB"],[1,4822,270,24,"localDB"],[1,4830,270,25,"saveSensorData"],[1,4845,270,40,"sensorData"],[1,4847,271,2],[1,4848,273,2],[1,4878,273,8,"getNearbyWarningsOffline"],[1,4879,274,4,"latitude"],[1,4881,275,4,"longitude"],[1,4883,276,4,"radiusKm"],[1,4885,276,23],[1,4888,278,4],[1,4901,278,17,"localDB"],[1,4903,278,24,"localDB"],[1,4911,278,25,"getNearbyWarnings"],[1,4929,278,43,"latitude"],[1,4931,278,53,"longitude"],[1,4933,278,64,"radiusKm"],[1,4935,279,2],[1,4936,282,2],[1,4955,282,8,"getSyncStatus"],[1,4958,283,4],[1,4971,283,17,"localDB"],[1,4973,283,24,"localDB"],[1,4981,283,25,"getSyncStatus"],[1,4996,284,2],[1,4997,286,2],[1,5019,286,8,"getDatabaseStats"],[1,5022,287,4],[1,5035,287,17,"localDB"],[1,5037,287,24,"localDB"],[1,5045,287,25,"getDatabaseStats"],[1,5063,288,2],[1,5064,290,2],[1,5083,290,8,"forceFullSync"],[1,5086,292,4],[1,5093,291,4,"console"],[1,5101,291,12,"log"],[1,5105,291,16],[1,5148,292,17,"this"],[1,5153,292,22,"syncWithServer"],[1,5169,293,2],[1,5170,296,2],[1,5190,296,8,"clearLocalData"],[1,5193,298,4,"console"],[1,5201,298,12,"log"],[1,5205,298,16],[1,5253,300,2],[1,5255,303,7],[1,5261,303,13,"syncService"],[1,5263,303,27],[1,5267,303,31,"SyncService"],[1,5268,303,45],[1,5271]],"functionMap":{"names":["<global>","SyncService","constructor","initialize","startPeriodicSync","setInterval$argument_0","stopPeriodicSync","syncWithServer","uploadSensorData","batch.map$argument_0","downloadUpdatedWarnings","warnings.map$argument_0","downloadRegionData","getAvailableRegions","saveOfflineSensorData","getNearbyWarningsOffline","getSyncStatus","getDatabaseStats","forceFullSync","clearLocalData"],"mappings":"AAA;OCgB;ECK;GDG;EEE;GFa;EGG;oCCE;KDK;GHC;EKE;GLK;EMG;GN4B;EOG;4BCqB;cDQ;qCCM,gBD;GPc;ESG;+DCa;cDY;GTgB;EWG;yDDoB;QCY;GXW;EYE;GZe;EaG;GboB;EcE;GdM;EeG;GfE;EgBE;GhBE;EiBE;GjBG;EkBG;GlBI;CDC"},"hasCjsExports":false},"type":"js/module"}]}