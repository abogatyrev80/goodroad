{"dependencies":[{"name":"expo-network","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":40,"index":40}}],"key":"1uj8I4G/JNBf3YRANaksFTH4dPs=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":41},"end":{"line":2,"column":69,"index":110}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"./LocalDatabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":111},"end":{"line":3,"column":85,"index":196}}],"key":"4OHGfS3RYJ9C2KSqX1/pnZT0rg0=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,_i,a,m,_e,_d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"SyncService\",{enumerable:!0,get:function(){return s}}),Object.defineProperty(_e,\"syncService\",{enumerable:!0,get:function(){return c}});var e,t=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[0])),n=r(_d[1]),o=(e=n)&&e.__esModule?e:{default:e},i=r(_d[2]);class s{syncInterval=null;isInitialized=!1;constructor(){this.backendUrl=process.env.EXPO_PUBLIC_BACKEND_URL||'https://smoothroad.emergent.host/',console.log('\\ud83d\\udd17 SyncService backend URL:',this.backendUrl)}async initialize(){if(!this.isInitialized)try{await i.localDB.initialize(),i.localDB.getDatabaseStats&&this.startPeriodicSync(),this.isInitialized=!0,console.log('\\u2705 Sync service initialized')}catch(e){console.error('\\u274c Sync service initialization error:',e),console.warn('\\u26a0\\ufe0f Sync service continuing without local database'),this.isInitialized=!0}}startPeriodicSync(){this.syncInterval=setInterval(async()=>{(await t.getNetworkStateAsync()).isConnected&&await this.syncWithServer()},3e4)}async stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null)}async syncWithServer(){try{return(await t.getNetworkStateAsync()).isConnected?(console.log('\\ud83d\\udd04 Starting sync with server...'),await this.uploadSensorData(),await this.downloadUpdatedWarnings(),await o.default.setItem('last_sync_time',(new Date).toISOString()),await i.localDB.cleanupOldData(30),console.log('\\u2705 Sync completed successfully'),!0):(console.log('\\ud83d\\udce1 No internet connection - sync skipped'),!1)}catch(e){return console.error('\\u274c Sync error:',e),!1}}async uploadSensorData(){const e=await i.localDB.getUnsyncedSensorData();if(0!==e.length){console.log(`\\ud83d\\udce4 Uploading ${e.length} sensor data records...`);try{const t=50;for(let n=0;n<e.length;n+=t){const o=e.slice(n,n+t),s=await fetch(`${this.backendUrl}api/sensor-data/batch`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({data:o.map(e=>({latitude:e.latitude,longitude:e.longitude,timestamp:e.timestamp,speed:e.speed,accuracy:e.accuracy,accelerometer:e.accelerometer,road_quality_score:e.roadQuality}))})});if(s.ok){const c=await s.json(),l=o.map(e=>e.id),d=c.inserted_ids||[];await i.localDB.markSensorDataSynced(l,d),console.log(`\\u2705 Uploaded batch ${Math.floor(n/t)+1}/${Math.ceil(e.length/t)}`)}else console.error(`\\u274c Failed to upload batch: ${s.status}`)}}catch(e){console.error('\\u274c Upload sensor data error:',e)}}else console.log('\\ud83d\\udce4 No unsynced sensor data to upload')}async downloadUpdatedWarnings(){try{const e=await i.localDB.getDownloadedRegions();for(const t of e){const e=await fetch(`${this.backendUrl}api/warnings/region/${t.code}?since=${t.lastSync}`);if(e.ok){const n=await e.json();if(n.length>0){const e=n.map(e=>({serverId:e._id,latitude:e.latitude,longitude:e.longitude,hazardType:e.hazard_type,severity:e.severity,description:e.description,isVerified:e.is_verified,region:t.code,city:e.city||'',country:e.country||'',lastUpdated:e.updated_at||(new Date).toISOString()}));await i.localDB.saveWarnings(e),await i.localDB.updateRegionSyncStatus(t.code,t.name,n.length),console.log(`\\ud83d\\udce5 Downloaded ${n.length} warnings for ${t.name}`)}}}}catch(e){console.error('\\u274c Download warnings error:',e)}}async downloadRegionData(e,n,o){try{if(!(await t.getNetworkStateAsync()).isConnected)throw new Error('No internet connection');console.log(`\\ud83d\\udce5 Downloading data for region: ${n}...`);const s=await fetch(`${this.backendUrl}api/warnings/region/${e}/full?north=${o.north}&south=${o.south}&east=${o.east}&west=${o.west}`);if(!s.ok)throw new Error(`Failed to download region data: ${s.status}`);const c=await s.json(),l=c.map(t=>({serverId:t._id,latitude:t.latitude,longitude:t.longitude,hazardType:t.hazard_type,severity:t.severity,description:t.description,isVerified:t.is_verified,region:e,city:t.city||'',country:t.country||'',lastUpdated:t.updated_at||(new Date).toISOString()}));return await i.localDB.saveWarnings(l),await i.localDB.updateRegionSyncStatus(e,n,c.length),console.log(`\\u2705 Downloaded ${c.length} warnings for ${n}`),!0}catch(e){return console.error(`\\u274c Failed to download region ${n}:`,e),!1}}async getAvailableRegions(){try{if(!(await t.getNetworkStateAsync()).isConnected)return[];const e=await fetch(`${this.backendUrl}api/regions/available`);return e.ok?await e.json():[]}catch(e){return console.error('\\u274c Failed to get available regions:',e),[]}}async saveOfflineSensorData(e,t,n,o,s,c){const l={latitude:e,longitude:t,timestamp:(new Date).toISOString(),speed:n,accuracy:o,accelerometer:s,roadQuality:c,isSynced:!1};return await i.localDB.saveSensorData(l)}async getNearbyWarningsOffline(e,t,n=1){return await i.localDB.getNearbyWarnings(e,t,n)}async getSyncStatus(){return await i.localDB.getSyncStatus()}async getDatabaseStats(){return await i.localDB.getDatabaseStats()}async forceFullSync(){return console.log('\\ud83d\\udd04 Forcing full sync...'),await this.syncWithServer()}async clearLocalData(){console.log('\\ud83d\\uddd1\\ufe0f Clearing all local data...')}}const c=new s});","lineCount":1,"map":[[1,94,17,0,"Object"],[1,101,17,0,"defineProperty"],[1,116,17,0,"_e"],[1,119,17,0],[1,134,17,0,"enumerable"],[1,146,17,0],[1,148,17,0,"get"],[1,152,17,0],[1,170,17,0,"SyncService"],[1,171,17,0],[1,175,309,0,"Object"],[1,182,309,0,"defineProperty"],[1,197,309,0,"_e"],[1,200,309,0],[1,215,309,0,"enumerable"],[1,227,309,0],[1,229,309,0,"get"],[1,233,309,0],[1,251,309,0,"syncService"],[1,252,309,0],[1,256,1,0],[1,260],[1,262,1,0,"Network"],[1,265],[1,498,1,0,"_interopNamespace"],[1,499,1,0,"r"],[1,501,1,0,"_d"],[1,504,1,0],[1,509,2,0,"_reactNativeAsyncStorageAsyncStorage"],[1,511,2,0,"r"],[1,513,2,0,"_d"],[1,516,2,0],[1,520,2,0,"AsyncStorage"],[1,523],[1,525,2,0,"_reactNativeAsyncStorageAsyncStorage"],[1,529],[1,556,3,0,"_LocalDatabase"],[1,558,3,0,"r"],[1,560,3,0,"_d"],[1,563,3,0],[1,567,17,7],[1,573,17,13,"SyncService"],[1,575,19,10,"syncInterval"],[1,588,19,48],[1,593,20,10,"isInitialized"],[1,608,20,26],[1,610,22,2,"constructor"],[1,624,23,4,"this"],[1,629,23,9,"backendUrl"],[1,640,23,22,"process"],[1,648,23,30,"env"],[1,652,23,34,"EXPO_PUBLIC_BACKEND_URL"],[1,677,23,61],[1,713,24,4,"console"],[1,721,24,12,"log"],[1,725,24,16],[1,765,24,47,"this"],[1,770,24,52,"backendUrl"],[1,781,25,2],[1,782,27,2],[1,798,27,8,"initialize"],[1,801,28,4],[1,805,28,8,"this"],[1,810,28,13,"isInitialized"],[1,824,30,4],[1,834,31,12,"localDB"],[1,836,31,19,"localDB"],[1,844,31,20,"initialize"],[1,857,34,10,"localDB"],[1,859,34,17,"localDB"],[1,867,34,18,"getDatabaseStats"],[1,885,35,8,"this"],[1,890,35,13,"startPeriodicSync"],[1,910,38,6,"this"],[1,915,38,11,"isInitialized"],[1,930,38,27],[1,932,40,6,"console"],[1,940,40,14,"log"],[1,944,40,18],[1,978,41,4],[1,979,41,6],[1,985,41,13,"error"],[1,988,42,6,"console"],[1,996,42,14,"error"],[1,1002,42,20],[1,1046,42,60,"error"],[1,1049,43,6,"console"],[1,1057,43,14,"warn"],[1,1062,43,19],[1,1125,44,6,"this"],[1,1130,44,11,"isInitialized"],[1,1145,44,27],[1,1146,45,4],[1,1147,46,2],[1,1148,49,10,"startPeriodicSync"],[1,1168,51,4,"this"],[1,1173,51,9,"syncInterval"],[1,1186,51,24,"setInterval"],[1,1198,51,36,"async"],[1,1215,52,33,"Network"],[1,1217,52,41,"getNetworkStateAsync"],[1,1241,53,23,"isConnected"],[1,1260,54,14,"this"],[1,1265,54,19,"syncWithServer"],[1,1283,56,7],[1,1287,57,2],[1,1288,59,2],[1,1310,59,8,"stopPeriodicSync"],[1,1313,60,8,"this"],[1,1318,60,13,"syncInterval"],[1,1333,61,6,"clearInterval"],[1,1347,61,20,"this"],[1,1352,61,25,"syncInterval"],[1,1366,62,6,"this"],[1,1371,62,11,"syncInterval"],[1,1384,62,26],[1,1389,64,2],[1,1390,67,2],[1,1410,67,8,"syncWithServer"],[1,1413,68,4],[1,1417,70,6],[1,1430,69,33,"Network"],[1,1432,69,41,"getNetworkStateAsync"],[1,1456,70,24,"isConnected"],[1,1469,75,6,"console"],[1,1477,75,14,"log"],[1,1481,75,18],[1,1532,78,12,"this"],[1,1537,78,17,"uploadSensorData"],[1,1562,81,12,"this"],[1,1567,81,17,"downloadUpdatedWarnings"],[1,1599,84,12,"AsyncStorage"],[1,1601,84,24,"default"],[1,1609,84,25,"setItem"],[1,1617,84,33],[1,1635,84,51],[1,1639,84,55,"Date"],[1,1645,84,62,"toISOString"],[1,1666,87,12,"localDB"],[1,1668,87,19,"localDB"],[1,1676,87,20,"cleanupOldData"],[1,1691,87,35],[1,1695,89,6,"console"],[1,1703,89,14,"log"],[1,1707,89,18],[1,1746,90,13],[1,1750,71,8,"console"],[1,1758,71,16,"log"],[1,1762,71,20],[1,1817,72,15],[1,1819,91,4],[1,1820,91,6],[1,1826,91,13,"error"],[1,1829,93,6],[1,1836,92,6,"console"],[1,1844,92,14,"error"],[1,1850,92,20],[1,1871,92,37,"error"],[1,1875,93,13],[1,1876,94,4],[1,1877,95,2],[1,1878,98,2],[1,1900,98,16,"uploadSensorData"],[1,1903,99,4],[1,1909,99,10,"unsyncedData"],[1,1917,99,31,"localDB"],[1,1919,99,38,"localDB"],[1,1927,99,39,"getUnsyncedSensorData"],[1,1951,100,4],[1,1954,100,32],[1,1958,100,8,"unsyncedData"],[1,1960,100,21,"length"],[1,1967,100,4],[1,1968,105,4,"console"],[1,1976,105,12,"log"],[1,1980,105,16],[1,2006,105,32,"unsyncedData"],[1,2008,105,45,"length"],[1,2041,107,4],[1,2045,109,6],[1,2051,109,12,"batchSize"],[1,2053,109,24],[1,2056,110,6],[1,2060,110,11],[1,2064,110,15,"i"],[1,2066,110,19],[1,2068,110,22,"i"],[1,2070,110,26,"unsyncedData"],[1,2072,110,39,"length"],[1,2079,110,47,"i"],[1,2082,110,52,"batchSize"],[1,2084,110,63],[1,2085,111,8],[1,2091,111,14,"batch"],[1,2093,111,22,"unsyncedData"],[1,2095,111,35,"slice"],[1,2101,111,41,"i"],[1,2103,111,44,"i"],[1,2105,111,48,"batchSize"],[1,2108,113,14,"response"],[1,2116,113,31,"fetch"],[1,2122,113,37],[1,2125,113,40,"this"],[1,2130,113,45,"backendUrl"],[1,2164,113,80],[1,2165,114,10,"method"],[1,2172,114,18],[1,2179,115,10,"headers"],[1,2187,115,19],[1,2188,116,12],[1,2203,116,28],[1,2223,118,10,"body"],[1,2228,118,16,"JSON"],[1,2233,118,21,"stringify"],[1,2243,118,31],[1,2244,119,12,"data"],[1,2249,119,18,"batch"],[1,2251,119,24,"map"],[1,2255,119,28,"item"],[1,2259,119,32],[1,2260,120,14,"latitude"],[1,2269,120,24,"item"],[1,2271,120,29,"latitude"],[1,2280,121,14,"longitude"],[1,2290,121,25,"item"],[1,2292,121,30,"longitude"],[1,2302,122,14,"timestamp"],[1,2312,122,25,"item"],[1,2314,122,30,"timestamp"],[1,2324,123,14,"speed"],[1,2330,123,21,"item"],[1,2332,123,26,"speed"],[1,2338,124,14,"accuracy"],[1,2347,124,24,"item"],[1,2349,124,29,"accuracy"],[1,2358,125,14,"accelerometer"],[1,2372,125,29,"item"],[1,2374,125,34,"accelerometer"],[1,2388,126,14,"road_quality_score"],[1,2407,126,34,"item"],[1,2409,126,39,"roadQuality"],[1,2428,131,8],[1,2431,131,12,"response"],[1,2433,131,21,"ok"],[1,2436,131,25],[1,2437,132,10],[1,2443,132,16,"result"],[1,2451,132,31,"response"],[1,2453,132,40,"json"],[1,2460,133,16,"localIds"],[1,2462,133,27,"batch"],[1,2464,133,33,"map"],[1,2468,133,37,"item"],[1,2471,133,45,"item"],[1,2473,133,50,"id"],[1,2477,134,16,"serverIds"],[1,2479,134,28,"result"],[1,2481,134,35,"inserted_ids"],[1,2495,134,51],[1,2504,137,16,"localDB"],[1,2506,137,23,"localDB"],[1,2514,137,24,"markSensorDataSynced"],[1,2535,137,45,"localIds"],[1,2537,137,55,"serverIds"],[1,2540,139,10,"console"],[1,2548,139,18,"log"],[1,2552,139,22],[1,2577,139,42,"Math"],[1,2582,139,47,"floor"],[1,2588,139,53,"i"],[1,2590,139,55,"batchSize"],[1,2593,139,68],[1,2598,139,73,"Math"],[1,2603,139,78,"ceil"],[1,2608,139,83,"unsyncedData"],[1,2610,139,96,"length"],[1,2617,139,103,"batchSize"],[1,2622,140,8],[1,2628,141,10,"console"],[1,2636,141,18,"error"],[1,2642,141,24],[1,2676,141,53,"response"],[1,2678,141,62,"status"],[1,2687,143,6],[1,2688,144,4],[1,2689,144,6],[1,2695,144,13,"error"],[1,2698,145,6,"console"],[1,2706,145,14,"error"],[1,2712,145,20],[1,2747,145,51,"error"],[1,2749,146,4],[1,2750,103,4],[1,2756,101,6,"console"],[1,2764,101,14,"log"],[1,2768,101,18],[1,2817,147,2],[1,2818,150,2],[1,2847,150,16,"downloadUpdatedWarnings"],[1,2850,151,4],[1,2854,152,6],[1,2860,152,12,"downloadedRegions"],[1,2868,152,38,"localDB"],[1,2870,152,45,"localDB"],[1,2878,152,46,"getDownloadedRegions"],[1,2901,154,6],[1,2905,154,11],[1,2911,154,17,"region"],[1,2916,154,27,"downloadedRegions"],[1,2918,154,46],[1,2919,155,8],[1,2925,155,14,"response"],[1,2933,155,31,"fetch"],[1,2939,156,10],[1,2942,156,13,"this"],[1,2947,156,18,"backendUrl"],[1,2980,156,51,"region"],[1,2982,156,58,"code"],[1,2996,156,72,"region"],[1,2998,156,79,"lastSync"],[1,3010,159,8],[1,3013,159,12,"response"],[1,3015,159,21,"ok"],[1,3018,159,25],[1,3019,160,10],[1,3025,160,16,"warnings"],[1,3033,160,33,"response"],[1,3035,160,42,"json"],[1,3042,162,10],[1,3045,162,14,"warnings"],[1,3047,162,23,"length"],[1,3054,162,32],[1,3056,162,35],[1,3057,163,12],[1,3063,163,18,"localWarnings"],[1,3065,163,50,"warnings"],[1,3067,163,59,"map"],[1,3071,163,64,"w"],[1,3075,163,70],[1,3076,164,14,"serverId"],[1,3085,164,24,"w"],[1,3087,164,26,"_id"],[1,3091,165,14,"latitude"],[1,3100,165,24,"w"],[1,3102,165,26,"latitude"],[1,3111,166,14,"longitude"],[1,3121,166,25,"w"],[1,3123,166,27,"longitude"],[1,3133,167,14,"hazardType"],[1,3144,167,26,"w"],[1,3146,167,28,"hazard_type"],[1,3158,168,14,"severity"],[1,3167,168,24,"w"],[1,3169,168,26,"severity"],[1,3178,169,14,"description"],[1,3190,169,27,"w"],[1,3192,169,29,"description"],[1,3204,170,14,"isVerified"],[1,3215,170,26,"w"],[1,3217,170,28,"is_verified"],[1,3229,171,14,"region"],[1,3236,171,22,"region"],[1,3238,171,29,"code"],[1,3243,172,14,"city"],[1,3248,172,20,"w"],[1,3250,172,22,"city"],[1,3256,172,30],[1,3259,173,14,"country"],[1,3267,173,23,"w"],[1,3269,173,25,"country"],[1,3278,173,36],[1,3281,174,14,"lastUpdated"],[1,3293,174,27,"w"],[1,3295,174,29,"updated_at"],[1,3308,174,43],[1,3312,174,47,"Date"],[1,3318,174,54,"toISOString"],[1,3341,177,18,"localDB"],[1,3343,177,25,"localDB"],[1,3351,177,26,"saveWarnings"],[1,3364,177,39,"localWarnings"],[1,3373,178,18,"localDB"],[1,3375,178,25,"localDB"],[1,3383,178,26,"updateRegionSyncStatus"],[1,3406,179,14,"region"],[1,3408,179,21,"code"],[1,3413,180,14,"region"],[1,3415,180,21,"name"],[1,3420,181,14,"warnings"],[1,3422,181,23,"length"],[1,3430,184,12,"console"],[1,3438,184,20,"log"],[1,3442,184,24],[1,3469,184,41,"warnings"],[1,3471,184,50,"length"],[1,3494,184,73,"region"],[1,3496,184,80,"name"],[1,3503,185,10],[1,3504,186,8],[1,3505,187,6],[1,3506,188,4],[1,3507,188,6],[1,3513,188,13,"error"],[1,3516,189,6,"console"],[1,3524,189,14,"error"],[1,3530,189,20],[1,3564,189,50,"error"],[1,3566,190,4],[1,3567,191,2],[1,3568,194,2],[1,3592,194,8,"downloadRegionData"],[1,3593,194,27,"regionCode"],[1,3595,194,47,"regionName"],[1,3597,194,67,"bounds"],[1,3600,195,4],[1,3604,197,6],[1,3615,196,33,"Network"],[1,3617,196,41,"getNetworkStateAsync"],[1,3641,197,24,"isConnected"],[1,3653,198,8],[1,3659,198,14],[1,3663,198,18,"Error"],[1,3669,198,24],[1,3695,201,6,"console"],[1,3703,201,14,"log"],[1,3707,201,18],[1,3752,201,53,"regionName"],[1,3760,203,6],[1,3766,203,12,"response"],[1,3774,203,29,"fetch"],[1,3780,204,8],[1,3783,204,11,"this"],[1,3788,204,16,"backendUrl"],[1,3821,204,49,"regionCode"],[1,3837,205,17,"bounds"],[1,3839,205,24,"north"],[1,3854,205,39,"bounds"],[1,3856,205,46,"south"],[1,3870,205,60,"bounds"],[1,3872,205,67,"east"],[1,3885,205,80,"bounds"],[1,3887,205,87,"west"],[1,3895,208,6],[1,3899,208,11,"response"],[1,3901,208,20,"ok"],[1,3904,209,8],[1,3910,209,14],[1,3914,209,18,"Error"],[1,3920,209,24],[1,3955,209,59,"response"],[1,3957,209,68,"status"],[1,3967,212,6],[1,3973,212,12,"warnings"],[1,3981,212,29,"response"],[1,3983,212,38,"json"],[1,3990,214,12,"localWarnings"],[1,3992,214,44,"warnings"],[1,3994,214,53,"map"],[1,3998,214,58,"w"],[1,4002,214,64],[1,4003,215,8,"serverId"],[1,4012,215,18,"w"],[1,4014,215,20,"_id"],[1,4018,216,8,"latitude"],[1,4027,216,18,"w"],[1,4029,216,20,"latitude"],[1,4038,217,8,"longitude"],[1,4048,217,19,"w"],[1,4050,217,21,"longitude"],[1,4060,218,8,"hazardType"],[1,4071,218,20,"w"],[1,4073,218,22,"hazard_type"],[1,4085,219,8,"severity"],[1,4094,219,18,"w"],[1,4096,219,20,"severity"],[1,4105,220,8,"description"],[1,4117,220,21,"w"],[1,4119,220,23,"description"],[1,4131,221,8,"isVerified"],[1,4142,221,20,"w"],[1,4144,221,22,"is_verified"],[1,4156,222,8,"region"],[1,4163,222,16,"regionCode"],[1,4165,223,8,"city"],[1,4170,223,14,"w"],[1,4172,223,16,"city"],[1,4178,223,24],[1,4181,224,8,"country"],[1,4189,224,17,"w"],[1,4191,224,19,"country"],[1,4200,224,30],[1,4203,225,8,"lastUpdated"],[1,4215,225,21,"w"],[1,4217,225,23,"updated_at"],[1,4230,225,37],[1,4234,225,41,"Date"],[1,4240,225,48,"toISOString"],[1,4257,232,6],[1,4270,228,12,"localDB"],[1,4272,228,19,"localDB"],[1,4280,228,20,"saveWarnings"],[1,4293,228,33,"localWarnings"],[1,4302,229,12,"localDB"],[1,4304,229,19,"localDB"],[1,4312,229,20,"updateRegionSyncStatus"],[1,4335,229,43,"regionCode"],[1,4337,229,55,"regionName"],[1,4339,229,67,"warnings"],[1,4341,229,76,"length"],[1,4349,231,6,"console"],[1,4357,231,14,"log"],[1,4361,231,18],[1,4382,231,34,"warnings"],[1,4384,231,43,"length"],[1,4407,231,66,"regionName"],[1,4413,232,13],[1,4414,233,4],[1,4415,233,6],[1,4421,233,13,"error"],[1,4424,235,6],[1,4431,234,6,"console"],[1,4439,234,14,"error"],[1,4445,234,20],[1,4481,234,51,"regionName"],[1,4486,234,66,"error"],[1,4490,235,13],[1,4491,236,4],[1,4492,237,2],[1,4493,239,2],[1,4518,239,8,"getAvailableRegions"],[1,4521,240,4],[1,4525,242,6],[1,4536,241,33,"Network"],[1,4538,241,41,"getNetworkStateAsync"],[1,4562,242,24,"isConnected"],[1,4574,243,8],[1,4580,243,15],[1,4583,246,6],[1,4589,246,12,"response"],[1,4597,246,29,"fetch"],[1,4603,246,35],[1,4606,246,38,"this"],[1,4611,246,43,"backendUrl"],[1,4646,247,6],[1,4653,247,11,"response"],[1,4655,247,20,"ok"],[1,4664,249,19,"response"],[1,4666,249,28,"json"],[1,4673,247,31],[1,4675,250,4],[1,4676,250,6],[1,4682,250,13,"error"],[1,4685,252,6],[1,4692,251,6,"console"],[1,4700,251,14,"error"],[1,4706,251,20],[1,4748,251,58,"error"],[1,4751,252,13],[1,4753,253,4],[1,4754,254,2],[1,4755,257,2],[1,4782,257,8,"saveOfflineSensorData"],[1,4783,258,4,"latitude"],[1,4785,259,4,"longitude"],[1,4787,260,4,"speed"],[1,4789,261,4,"accuracy"],[1,4791,262,4,"accelerometer"],[1,4793,263,4,"roadQuality"],[1,4796,265,4],[1,4802,265,10,"sensorData"],[1,4804,265,66],[1,4805,266,6,"latitude"],[1,4816,267,6,"longitude"],[1,4828,268,6,"timestamp"],[1,4839,268,17],[1,4843,268,21,"Date"],[1,4849,268,28,"toISOString"],[1,4863,269,6,"speed"],[1,4871,270,6,"accuracy"],[1,4882,271,6,"accelerometer"],[1,4898,272,6,"roadQuality"],[1,4912,273,6,"isSynced"],[1,4922,273,16],[1,4925,276,4],[1,4938,276,17,"localDB"],[1,4940,276,24,"localDB"],[1,4948,276,25,"saveSensorData"],[1,4963,276,40,"sensorData"],[1,4965,277,2],[1,4966,279,2],[1,4996,279,8,"getNearbyWarningsOffline"],[1,4997,280,4,"latitude"],[1,4999,281,4,"longitude"],[1,5001,282,4,"radiusKm"],[1,5003,282,23],[1,5006,284,4],[1,5019,284,17,"localDB"],[1,5021,284,24,"localDB"],[1,5029,284,25,"getNearbyWarnings"],[1,5047,284,43,"latitude"],[1,5049,284,53,"longitude"],[1,5051,284,64,"radiusKm"],[1,5053,285,2],[1,5054,288,2],[1,5073,288,8,"getSyncStatus"],[1,5076,289,4],[1,5089,289,17,"localDB"],[1,5091,289,24,"localDB"],[1,5099,289,25,"getSyncStatus"],[1,5114,290,2],[1,5115,292,2],[1,5137,292,8,"getDatabaseStats"],[1,5140,293,4],[1,5153,293,17,"localDB"],[1,5155,293,24,"localDB"],[1,5163,293,25,"getDatabaseStats"],[1,5181,294,2],[1,5182,296,2],[1,5201,296,8,"forceFullSync"],[1,5204,298,4],[1,5211,297,4,"console"],[1,5219,297,12,"log"],[1,5223,297,16],[1,5266,298,17,"this"],[1,5271,298,22,"syncWithServer"],[1,5287,299,2],[1,5288,302,2],[1,5308,302,8,"clearLocalData"],[1,5311,304,4,"console"],[1,5319,304,12,"log"],[1,5323,304,16],[1,5371,306,2],[1,5373,309,7],[1,5379,309,13,"syncService"],[1,5381,309,27],[1,5385,309,31,"SyncService"],[1,5386,309,45],[1,5389]],"functionMap":{"names":["<global>","SyncService","constructor","initialize","startPeriodicSync","setInterval$argument_0","stopPeriodicSync","syncWithServer","uploadSensorData","batch.map$argument_0","downloadUpdatedWarnings","warnings.map$argument_0","downloadRegionData","getAvailableRegions","saveOfflineSensorData","getNearbyWarningsOffline","getSyncStatus","getDatabaseStats","forceFullSync","clearLocalData"],"mappings":"AAA;OCgB;ECK;GDG;EEE;GFmB;EGG;oCCE;KDK;GHC;EKE;GLK;EMG;GN4B;EOG;4BCqB;cDQ;qCCM,gBD;GPc;ESG;+DCa;cDY;GTgB;EWG;yDDoB;QCY;GXW;EYE;GZe;EaG;GboB;EcE;GdM;EeG;GfE;EgBE;GhBE;EiBE;GjBG;EkBG;GlBI;CDC"},"hasCjsExports":false},"type":"js/module"}]}