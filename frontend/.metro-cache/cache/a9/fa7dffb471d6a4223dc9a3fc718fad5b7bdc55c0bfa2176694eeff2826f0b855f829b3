{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  /**\n   * EventDetector.ts\n   * \n   * Умная система детекции дорожных событий на основе данных акселерометра\n   * - Классификация событий (яма, торможение, вибрация)\n   * - Определение типа дороги (асфальт, грунт, гравий)\n   * - Адаптивные пороги на основе типа дороги и автомобиля\n   */\n\n  // 1=критичный, 5=нормальный\n\n  /**\n   * Пороговые значения для детекции событий\n   * Научно обоснованные на основе исследований качества дорог\n   */\n  const BASE_THRESHOLDS = {\n    // Вертикальная ось (Y) - основная для дорог\n    pothole: {\n      critical: 4.5,\n      // > 4.5 m/s² - критичная яма\n      high: 3.0,\n      // 3.0-4.5 m/s² - яма\n      medium: 2.0,\n      // 2.0-3.0 m/s² - неровность\n      low: 1.5 // 1.5-2.0 m/s² - мелкий дефект\n    },\n    // Продольная ось (Z) - торможение/разгон\n    braking: {\n      emergency: 3.0,\n      // > 3.0 m/s² - экстренное торможение\n      sharp: 2.5,\n      // 2.5-3.0 m/s² - резкое торможение\n      moderate: 1.5 // 1.5-2.5 m/s² - умеренное торможение\n    },\n    // Поперечная ось (X) - боковые качания\n    lateral: {\n      sharp: 2.5,\n      // > 2.5 m/s² - резкий маневр\n      moderate: 1.5 // 1.5-2.5 m/s² - умеренное качание\n    },\n    // Общая magnitude для комбинированных событий\n    magnitude: {\n      critical: 5.0,\n      // Критичное событие\n      high: 4.0,\n      // Высокая интенсивность\n      medium: 3.0 // Средняя интенсивность\n    }\n  };\n\n  /**\n   * Множители для разных типов дорог\n   */\n  const ROAD_TYPE_MULTIPLIERS = {\n    asphalt: 1.0,\n    // Стандартные пороги\n    gravel: 1.5,\n    // Гравий - больше допустимая вибрация\n    dirt: 1.8,\n    // Грунт - ещё больше вибрации\n    unknown: 1.2 // Неизвестно - осторожный подход\n  };\n\n  /**\n   * Множители для разных типов автомобилей\n   */\n  const VEHICLE_TYPE_MULTIPLIERS = {\n    sedan: 1.0,\n    // Легковой - мягкая подвеска, чувствительнее\n    crossover: 0.9,\n    // Кроссовер - средняя подвеска\n    suv: 0.8 // Внедорожник - жёсткая подвеска, менее чувствителен\n  };\n  class EventDetector {\n    previousData = null;\n    calibration = null;\n    detectedRoadType = 'unknown';\n    roadTypeHistory = []; // История вибраций для определения типа дороги\n\n    constructor(calibration) {\n      this.calibration = calibration || null;\n    }\n\n    /**\n     * Установить калибровочный профиль\n     */\n    setCalibration(calibration) {\n      this.calibration = calibration;\n    }\n\n    /**\n     * Основной метод обработки данных акселерометра\n     */\n    processAccelerometerData(data) {\n      // Первое чтение - сохраняем и выходим\n      if (!this.previousData) {\n        this.previousData = data;\n        return null;\n      }\n\n      // Вычисляем изменения (delta)\n      const deltaX = Math.abs(data.x - this.previousData.x);\n      const deltaY = Math.abs(data.y - this.previousData.y);\n      const deltaZ = Math.abs(data.z - this.previousData.z);\n\n      // Общая magnitude изменения\n      const magnitude = Math.sqrt(deltaX ** 2 + deltaY ** 2 + deltaZ ** 2);\n\n      // Обновляем историю для определения типа дороги\n      this.updateRoadTypeHistory(magnitude);\n      this.detectRoadType();\n\n      // Получаем адаптивные пороги\n      const thresholds = this.getAdaptiveThresholds();\n\n      // Классифицируем событие\n      const event = this.classifyEvent({\n        deltaX,\n        deltaY,\n        deltaZ,\n        magnitude,\n        thresholds,\n        data\n      });\n\n      // Обновляем предыдущие данные\n      this.previousData = data;\n      return event;\n    }\n\n    /**\n     * Обновить историю вибраций для определения типа дороги\n     */\n    updateRoadTypeHistory(magnitude) {\n      this.roadTypeHistory.push(magnitude);\n\n      // Храним только последние 100 измерений (примерно 2 секунды при 50Hz)\n      if (this.roadTypeHistory.length > 100) {\n        this.roadTypeHistory.shift();\n      }\n    }\n\n    /**\n     * Вычислить variance для последних N измерений (НОВОЕ - для ML)\n     * Variance показывает изменчивость accelerometer данных\n     */\n    calculateVariance(windowSize = 20) {\n      if (this.roadTypeHistory.length < windowSize) {\n        return 0;\n      }\n\n      // Берём последние windowSize измерений\n      const recentData = this.roadTypeHistory.slice(-windowSize);\n\n      // Средне значение\n      const mean = recentData.reduce((sum, val) => sum + val, 0) / recentData.length;\n\n      // Variance = среднее квадратов отклонений от среднего\n      const variance = recentData.reduce((sum, val) => {\n        const diff = val - mean;\n        return sum + diff * diff;\n      }, 0) / recentData.length;\n      return variance;\n    }\n\n    /**\n     * Автоматическое определение типа дороги\n     */\n    detectRoadType() {\n      if (this.roadTypeHistory.length < 50) {\n        return; // Недостаточно данных\n      }\n\n      // Вычисляем среднюю базовую вибрацию\n      const avgVibration = this.roadTypeHistory.reduce((sum, val) => sum + val, 0) / this.roadTypeHistory.length;\n\n      // Классификация на основе средней вибрации\n      if (avgVibration < 0.5) {\n        this.detectedRoadType = 'asphalt'; // Низкая вибрация = асфальт\n      } else if (avgVibration < 1.0) {\n        this.detectedRoadType = 'gravel'; // Средняя вибрация = гравий\n      } else {\n        this.detectedRoadType = 'dirt'; // Высокая вибрация = грунт\n      }\n    }\n\n    /**\n     * Получить адаптивные пороги с учётом типа дороги и автомобиля\n     */\n    getAdaptiveThresholds() {\n      const roadMultiplier = ROAD_TYPE_MULTIPLIERS[this.detectedRoadType];\n      const vehicleMultiplier = this.calibration ? VEHICLE_TYPE_MULTIPLIERS[this.calibration.vehicleType] : 1.0;\n      const calibrationMultiplier = this.calibration?.thresholdMultiplier || 1.0;\n      const totalMultiplier = roadMultiplier * vehicleMultiplier * calibrationMultiplier;\n\n      // Применяем множитель ко всем порогам\n      return {\n        pothole: {\n          critical: BASE_THRESHOLDS.pothole.critical * totalMultiplier,\n          high: BASE_THRESHOLDS.pothole.high * totalMultiplier,\n          medium: BASE_THRESHOLDS.pothole.medium * totalMultiplier,\n          low: BASE_THRESHOLDS.pothole.low * totalMultiplier\n        },\n        braking: {\n          emergency: BASE_THRESHOLDS.braking.emergency * totalMultiplier,\n          sharp: BASE_THRESHOLDS.braking.sharp * totalMultiplier,\n          moderate: BASE_THRESHOLDS.braking.moderate * totalMultiplier\n        },\n        lateral: {\n          sharp: BASE_THRESHOLDS.lateral.sharp * totalMultiplier,\n          moderate: BASE_THRESHOLDS.lateral.moderate * totalMultiplier\n        },\n        magnitude: {\n          critical: BASE_THRESHOLDS.magnitude.critical * totalMultiplier,\n          high: BASE_THRESHOLDS.magnitude.high * totalMultiplier,\n          medium: BASE_THRESHOLDS.magnitude.medium * totalMultiplier\n        }\n      };\n    }\n\n    /**\n     * Классификация события на основе данных акселерометра\n     */\n    classifyEvent(params) {\n      const {\n        deltaX,\n        deltaY,\n        deltaZ,\n        magnitude,\n        thresholds,\n        data\n      } = params;\n      let eventType = 'normal';\n      let severity = 5;\n      let shouldNotifyUser = false;\n      let shouldSendImmediately = false;\n\n      // Проверка критичных событий (приоритет 1)\n      if (magnitude >= thresholds.magnitude.critical) {\n        eventType = 'pothole';\n        severity = 1;\n        shouldNotifyUser = true;\n        shouldSendImmediately = true;\n      }\n      // Проверка ям и неровностей (вертикальная ось Y)\n      else if (deltaY >= thresholds.pothole.critical) {\n        eventType = 'pothole';\n        severity = 1;\n        shouldNotifyUser = true;\n        shouldSendImmediately = true;\n      } else if (deltaY >= thresholds.pothole.high) {\n        eventType = 'pothole';\n        severity = 2;\n        shouldNotifyUser = true;\n        shouldSendImmediately = false;\n      } else if (deltaY >= thresholds.pothole.medium) {\n        eventType = 'bump';\n        severity = 3;\n      } else if (deltaY >= thresholds.pothole.low) {\n        eventType = 'vibration';\n        severity = 4;\n      }\n      // Проверка торможения (продольная ось Z)\n      else if (deltaZ >= thresholds.braking.emergency) {\n        eventType = 'braking';\n        severity = 1;\n        shouldNotifyUser = true;\n        shouldSendImmediately = true;\n      } else if (deltaZ >= thresholds.braking.sharp) {\n        eventType = 'braking';\n        severity = 2;\n      } else if (deltaZ >= thresholds.braking.moderate) {\n        eventType = 'braking';\n        severity = 3;\n      }\n      // Проверка боковых качаний (поперечная ось X)\n      else if (deltaX >= thresholds.lateral.sharp) {\n        eventType = 'vibration';\n        severity = 2;\n      } else if (deltaX >= thresholds.lateral.moderate) {\n        eventType = 'vibration';\n        severity = 3;\n      }\n\n      // Если нет значимых событий - возвращаем null\n      if (eventType === 'normal' && magnitude < 1.0) {\n        return null;\n      }\n\n      // Вычислить variance для ML (НОВОЕ)\n      const variance = this.calculateVariance(20);\n      return {\n        eventType,\n        severity,\n        timestamp: data.timestamp,\n        accelerometer: {\n          x: data.x,\n          y: data.y,\n          z: data.z,\n          magnitude,\n          deltaY,\n          deltaZ,\n          deltaX,\n          // НОВОЕ\n          variance // НОВОЕ - для ML анализа\n        },\n        roadType: this.detectedRoadType,\n        shouldNotifyUser,\n        shouldSendImmediately\n      };\n    }\n\n    /**\n     * Получить текущий тип дороги\n     */\n    getRoadType() {\n      return this.detectedRoadType;\n    }\n\n    /**\n     * Сбросить историю (например, при смене маршрута)\n     */\n    reset() {\n      this.previousData = null;\n      this.roadTypeHistory = [];\n      this.detectedRoadType = 'unknown';\n    }\n  }\n  var _default = EventDetector;\n});","lineCount":342,"map":[[7,2,370,0,"Object"],[7,8,370,0],[7,9,370,0,"defineProperty"],[7,23,370,0],[7,24,370,0,"exports"],[7,31,370,0],[8,4,370,0,"enumerable"],[8,14,370,0],[9,4,370,0,"get"],[9,7,370,0],[9,18,370,0,"get"],[9,19,370,0],[10,6,370,0],[10,13,370,0,"_default"],[10,21,370,0],[11,4,370,0],[12,2,370,0],[13,2,1,0],[14,0,2,0],[15,0,3,0],[16,0,4,0],[17,0,5,0],[18,0,6,0],[19,0,7,0],[20,0,8,0],[22,2,13,47],[24,2,48,0],[25,0,49,0],[26,0,50,0],[27,0,51,0],[28,2,52,0],[28,8,52,6,"BASE_THRESHOLDS"],[28,23,52,21],[28,26,52,24],[29,4,53,2],[30,4,54,2,"pothole"],[30,11,54,9],[30,13,54,11],[31,6,55,4,"critical"],[31,14,55,12],[31,16,55,14],[31,19,55,17],[32,6,55,21],[33,6,56,4,"high"],[33,10,56,8],[33,12,56,10],[33,15,56,13],[34,6,56,21],[35,6,57,4,"medium"],[35,12,57,10],[35,14,57,12],[35,17,57,15],[36,6,57,21],[37,6,58,4,"low"],[37,9,58,7],[37,11,58,9],[37,14,58,12],[37,15,58,21],[38,4,59,2],[38,5,59,3],[39,4,61,2],[40,4,62,2,"braking"],[40,11,62,9],[40,13,62,11],[41,6,63,4,"emergency"],[41,15,63,13],[41,17,63,15],[41,20,63,18],[42,6,63,21],[43,6,64,4,"sharp"],[43,11,64,9],[43,13,64,11],[43,16,64,14],[44,6,64,21],[45,6,65,4,"moderate"],[45,14,65,12],[45,16,65,14],[45,19,65,17],[45,20,65,21],[46,4,66,2],[46,5,66,3],[47,4,68,2],[48,4,69,2,"lateral"],[48,11,69,9],[48,13,69,11],[49,6,70,4,"sharp"],[49,11,70,9],[49,13,70,11],[49,16,70,14],[50,6,70,21],[51,6,71,4,"moderate"],[51,14,71,12],[51,16,71,14],[51,19,71,17],[51,20,71,21],[52,4,72,2],[52,5,72,3],[53,4,74,2],[54,4,75,2,"magnitude"],[54,13,75,11],[54,15,75,13],[55,6,76,4,"critical"],[55,14,76,12],[55,16,76,14],[55,19,76,17],[56,6,76,21],[57,6,77,4,"high"],[57,10,77,8],[57,12,77,10],[57,15,77,13],[58,6,77,21],[59,6,78,4,"medium"],[59,12,78,10],[59,14,78,12],[59,17,78,15],[59,18,78,21],[60,4,79,2],[61,2,80,0],[61,3,80,1],[63,2,82,0],[64,0,83,0],[65,0,84,0],[66,2,85,0],[66,8,85,6,"ROAD_TYPE_MULTIPLIERS"],[66,29,85,53],[66,32,85,56],[67,4,86,2,"asphalt"],[67,11,86,9],[67,13,86,11],[67,16,86,14],[68,4,86,19],[69,4,87,2,"gravel"],[69,10,87,8],[69,12,87,10],[69,15,87,13],[70,4,87,19],[71,4,88,2,"dirt"],[71,8,88,6],[71,10,88,8],[71,13,88,11],[72,4,88,19],[73,4,89,2,"unknown"],[73,11,89,9],[73,13,89,11],[73,16,89,14],[73,17,89,19],[74,2,90,0],[74,3,90,1],[76,2,92,0],[77,0,93,0],[78,0,94,0],[79,2,95,0],[79,8,95,6,"VEHICLE_TYPE_MULTIPLIERS"],[79,32,95,59],[79,35,95,62],[80,4,96,2,"sedan"],[80,9,96,7],[80,11,96,9],[80,14,96,12],[81,4,96,19],[82,4,97,2,"crossover"],[82,13,97,11],[82,15,97,13],[82,18,97,16],[83,4,97,19],[84,4,98,2,"suv"],[84,7,98,5],[84,9,98,7],[84,12,98,10],[84,13,98,19],[85,2,99,0],[85,3,99,1],[86,2,101,0],[86,8,101,6,"EventDetector"],[86,21,101,19],[86,22,101,20],[87,4,102,10,"previousData"],[87,16,102,22],[87,19,102,51],[87,23,102,55],[88,4,103,10,"calibration"],[88,15,103,21],[88,18,103,51],[88,22,103,55],[89,4,104,10,"detectedRoadType"],[89,20,104,26],[89,23,104,39],[89,32,104,48],[90,4,105,10,"roadTypeHistory"],[90,19,105,25],[90,22,105,38],[90,24,105,40],[90,25,105,41],[90,26,105,42],[92,4,107,2,"constructor"],[92,15,107,13,"constructor"],[92,16,107,14,"calibration"],[92,27,107,46],[92,29,107,48],[93,6,108,4],[93,10,108,8],[93,11,108,9,"calibration"],[93,22,108,20],[93,25,108,23,"calibration"],[93,36,108,34],[93,40,108,38],[93,44,108,42],[94,4,109,2],[96,4,111,2],[97,0,112,0],[98,0,113,0],[99,4,114,2,"setCalibration"],[99,18,114,16,"setCalibration"],[99,19,114,17,"calibration"],[99,30,114,48],[99,32,114,50],[100,6,115,4],[100,10,115,8],[100,11,115,9,"calibration"],[100,22,115,20],[100,25,115,23,"calibration"],[100,36,115,34],[101,4,116,2],[103,4,118,2],[104,0,119,0],[105,0,120,0],[106,4,121,2,"processAccelerometerData"],[106,28,121,26,"processAccelerometerData"],[106,29,121,27,"data"],[106,33,121,50],[106,35,121,74],[107,6,122,4],[108,6,123,4],[108,10,123,8],[108,11,123,9],[108,15,123,13],[108,16,123,14,"previousData"],[108,28,123,26],[108,30,123,28],[109,8,124,6],[109,12,124,10],[109,13,124,11,"previousData"],[109,25,124,23],[109,28,124,26,"data"],[109,32,124,30],[110,8,125,6],[110,15,125,13],[110,19,125,17],[111,6,126,4],[113,6,128,4],[114,6,129,4],[114,12,129,10,"deltaX"],[114,18,129,16],[114,21,129,19,"Math"],[114,25,129,23],[114,26,129,24,"abs"],[114,29,129,27],[114,30,129,28,"data"],[114,34,129,32],[114,35,129,33,"x"],[114,36,129,34],[114,39,129,37],[114,43,129,41],[114,44,129,42,"previousData"],[114,56,129,54],[114,57,129,55,"x"],[114,58,129,56],[114,59,129,57],[115,6,130,4],[115,12,130,10,"deltaY"],[115,18,130,16],[115,21,130,19,"Math"],[115,25,130,23],[115,26,130,24,"abs"],[115,29,130,27],[115,30,130,28,"data"],[115,34,130,32],[115,35,130,33,"y"],[115,36,130,34],[115,39,130,37],[115,43,130,41],[115,44,130,42,"previousData"],[115,56,130,54],[115,57,130,55,"y"],[115,58,130,56],[115,59,130,57],[116,6,131,4],[116,12,131,10,"deltaZ"],[116,18,131,16],[116,21,131,19,"Math"],[116,25,131,23],[116,26,131,24,"abs"],[116,29,131,27],[116,30,131,28,"data"],[116,34,131,32],[116,35,131,33,"z"],[116,36,131,34],[116,39,131,37],[116,43,131,41],[116,44,131,42,"previousData"],[116,56,131,54],[116,57,131,55,"z"],[116,58,131,56],[116,59,131,57],[118,6,133,4],[119,6,134,4],[119,12,134,10,"magnitude"],[119,21,134,19],[119,24,134,22,"Math"],[119,28,134,26],[119,29,134,27,"sqrt"],[119,33,134,31],[119,34,134,32,"deltaX"],[119,40,134,38],[119,44,134,42],[119,45,134,43],[119,48,134,46,"deltaY"],[119,54,134,52],[119,58,134,56],[119,59,134,57],[119,62,134,60,"deltaZ"],[119,68,134,66],[119,72,134,70],[119,73,134,71],[119,74,134,72],[121,6,136,4],[122,6,137,4],[122,10,137,8],[122,11,137,9,"updateRoadTypeHistory"],[122,32,137,30],[122,33,137,31,"magnitude"],[122,42,137,40],[122,43,137,41],[123,6,138,4],[123,10,138,8],[123,11,138,9,"detectRoadType"],[123,25,138,23],[123,26,138,24],[123,27,138,25],[125,6,140,4],[126,6,141,4],[126,12,141,10,"thresholds"],[126,22,141,20],[126,25,141,23],[126,29,141,27],[126,30,141,28,"getAdaptiveThresholds"],[126,51,141,49],[126,52,141,50],[126,53,141,51],[128,6,143,4],[129,6,144,4],[129,12,144,10,"event"],[129,17,144,15],[129,20,144,18],[129,24,144,22],[129,25,144,23,"classifyEvent"],[129,38,144,36],[129,39,144,37],[130,8,145,6,"deltaX"],[130,14,145,12],[131,8,146,6,"deltaY"],[131,14,146,12],[132,8,147,6,"deltaZ"],[132,14,147,12],[133,8,148,6,"magnitude"],[133,17,148,15],[134,8,149,6,"thresholds"],[134,18,149,16],[135,8,150,6,"data"],[136,6,151,4],[136,7,151,5],[136,8,151,6],[138,6,153,4],[139,6,154,4],[139,10,154,8],[139,11,154,9,"previousData"],[139,23,154,21],[139,26,154,24,"data"],[139,30,154,28],[140,6,156,4],[140,13,156,11,"event"],[140,18,156,16],[141,4,157,2],[143,4,159,2],[144,0,160,0],[145,0,161,0],[146,4,162,10,"updateRoadTypeHistory"],[146,25,162,31,"updateRoadTypeHistory"],[146,26,162,32,"magnitude"],[146,35,162,49],[146,37,162,51],[147,6,163,4],[147,10,163,8],[147,11,163,9,"roadTypeHistory"],[147,26,163,24],[147,27,163,25,"push"],[147,31,163,29],[147,32,163,30,"magnitude"],[147,41,163,39],[147,42,163,40],[149,6,165,4],[150,6,166,4],[150,10,166,8],[150,14,166,12],[150,15,166,13,"roadTypeHistory"],[150,30,166,28],[150,31,166,29,"length"],[150,37,166,35],[150,40,166,38],[150,43,166,41],[150,45,166,43],[151,8,167,6],[151,12,167,10],[151,13,167,11,"roadTypeHistory"],[151,28,167,26],[151,29,167,27,"shift"],[151,34,167,32],[151,35,167,33],[151,36,167,34],[152,6,168,4],[153,4,169,2],[155,4,171,2],[156,0,172,0],[157,0,173,0],[158,0,174,0],[159,4,175,10,"calculateVariance"],[159,21,175,27,"calculateVariance"],[159,22,175,28,"windowSize"],[159,32,175,46],[159,35,175,49],[159,37,175,51],[159,39,175,61],[160,6,176,4],[160,10,176,8],[160,14,176,12],[160,15,176,13,"roadTypeHistory"],[160,30,176,28],[160,31,176,29,"length"],[160,37,176,35],[160,40,176,38,"windowSize"],[160,50,176,48],[160,52,176,50],[161,8,177,6],[161,15,177,13],[161,16,177,14],[162,6,178,4],[164,6,180,4],[165,6,181,4],[165,12,181,10,"recentData"],[165,22,181,20],[165,25,181,23],[165,29,181,27],[165,30,181,28,"roadTypeHistory"],[165,45,181,43],[165,46,181,44,"slice"],[165,51,181,49],[165,52,181,50],[165,53,181,51,"windowSize"],[165,63,181,61],[165,64,181,62],[167,6,183,4],[168,6,184,4],[168,12,184,10,"mean"],[168,16,184,14],[168,19,184,17,"recentData"],[168,29,184,27],[168,30,184,28,"reduce"],[168,36,184,34],[168,37,184,35],[168,38,184,36,"sum"],[168,41,184,39],[168,43,184,41,"val"],[168,46,184,44],[168,51,184,49,"sum"],[168,54,184,52],[168,57,184,55,"val"],[168,60,184,58],[168,62,184,60],[168,63,184,61],[168,64,184,62],[168,67,184,65,"recentData"],[168,77,184,75],[168,78,184,76,"length"],[168,84,184,82],[170,6,186,4],[171,6,187,4],[171,12,187,10,"variance"],[171,20,187,18],[171,23,187,21,"recentData"],[171,33,187,31],[171,34,187,32,"reduce"],[171,40,187,38],[171,41,187,39],[171,42,187,40,"sum"],[171,45,187,43],[171,47,187,45,"val"],[171,50,187,48],[171,55,187,53],[172,8,188,6],[172,14,188,12,"diff"],[172,18,188,16],[172,21,188,19,"val"],[172,24,188,22],[172,27,188,25,"mean"],[172,31,188,29],[173,8,189,6],[173,15,189,13,"sum"],[173,18,189,16],[173,21,189,20,"diff"],[173,25,189,24],[173,28,189,27,"diff"],[173,32,189,32],[174,6,190,4],[174,7,190,5],[174,9,190,7],[174,10,190,8],[174,11,190,9],[174,14,190,12,"recentData"],[174,24,190,22],[174,25,190,23,"length"],[174,31,190,29],[175,6,192,4],[175,13,192,11,"variance"],[175,21,192,19],[176,4,193,2],[178,4,195,2],[179,0,196,0],[180,0,197,0],[181,4,198,10,"detectRoadType"],[181,18,198,24,"detectRoadType"],[181,19,198,24],[181,21,198,27],[182,6,199,4],[182,10,199,8],[182,14,199,12],[182,15,199,13,"roadTypeHistory"],[182,30,199,28],[182,31,199,29,"length"],[182,37,199,35],[182,40,199,38],[182,42,199,40],[182,44,199,42],[183,8,200,6],[183,15,200,13],[183,16,200,14],[184,6,201,4],[186,6,203,4],[187,6,204,4],[187,12,204,10,"avgVibration"],[187,24,204,22],[187,27,204,25],[187,31,204,29],[187,32,204,30,"roadTypeHistory"],[187,47,204,45],[187,48,204,46,"reduce"],[187,54,204,52],[187,55,204,53],[187,56,204,54,"sum"],[187,59,204,57],[187,61,204,59,"val"],[187,64,204,62],[187,69,204,67,"sum"],[187,72,204,70],[187,75,204,73,"val"],[187,78,204,76],[187,80,204,78],[187,81,204,79],[187,82,204,80],[187,85,204,83],[187,89,204,87],[187,90,204,88,"roadTypeHistory"],[187,105,204,103],[187,106,204,104,"length"],[187,112,204,110],[189,6,206,4],[190,6,207,4],[190,10,207,8,"avgVibration"],[190,22,207,20],[190,25,207,23],[190,28,207,26],[190,30,207,28],[191,8,208,6],[191,12,208,10],[191,13,208,11,"detectedRoadType"],[191,29,208,27],[191,32,208,30],[191,41,208,39],[191,42,208,40],[191,43,208,41],[192,6,209,4],[192,7,209,5],[192,13,209,11],[192,17,209,15,"avgVibration"],[192,29,209,27],[192,32,209,30],[192,35,209,33],[192,37,209,35],[193,8,210,6],[193,12,210,10],[193,13,210,11,"detectedRoadType"],[193,29,210,27],[193,32,210,30],[193,40,210,38],[193,41,210,39],[193,42,210,40],[194,6,211,4],[194,7,211,5],[194,13,211,11],[195,8,212,6],[195,12,212,10],[195,13,212,11,"detectedRoadType"],[195,29,212,27],[195,32,212,30],[195,38,212,36],[195,39,212,37],[195,40,212,38],[196,6,213,4],[197,4,214,2],[199,4,216,2],[200,0,217,0],[201,0,218,0],[202,4,219,10,"getAdaptiveThresholds"],[202,25,219,31,"getAdaptiveThresholds"],[202,26,219,31],[202,28,219,34],[203,6,220,4],[203,12,220,10,"roadMultiplier"],[203,26,220,24],[203,29,220,27,"ROAD_TYPE_MULTIPLIERS"],[203,50,220,48],[203,51,220,49],[203,55,220,53],[203,56,220,54,"detectedRoadType"],[203,72,220,70],[203,73,220,71],[204,6,221,4],[204,12,221,10,"vehicleMultiplier"],[204,29,221,27],[204,32,221,30],[204,36,221,34],[204,37,221,35,"calibration"],[204,48,221,46],[204,51,222,8,"VEHICLE_TYPE_MULTIPLIERS"],[204,75,222,32],[204,76,222,33],[204,80,222,37],[204,81,222,38,"calibration"],[204,92,222,49],[204,93,222,50,"vehicleType"],[204,104,222,61],[204,105,222,62],[204,108,223,8],[204,111,223,11],[205,6,225,4],[205,12,225,10,"calibrationMultiplier"],[205,33,225,31],[205,36,225,34],[205,40,225,38],[205,41,225,39,"calibration"],[205,52,225,50],[205,54,225,52,"thresholdMultiplier"],[205,73,225,71],[205,77,225,75],[205,80,225,78],[206,6,227,4],[206,12,227,10,"totalMultiplier"],[206,27,227,25],[206,30,227,28,"roadMultiplier"],[206,44,227,42],[206,47,227,45,"vehicleMultiplier"],[206,64,227,62],[206,67,227,65,"calibrationMultiplier"],[206,88,227,86],[208,6,229,4],[209,6,230,4],[209,13,230,11],[210,8,231,6,"pothole"],[210,15,231,13],[210,17,231,15],[211,10,232,8,"critical"],[211,18,232,16],[211,20,232,18,"BASE_THRESHOLDS"],[211,35,232,33],[211,36,232,34,"pothole"],[211,43,232,41],[211,44,232,42,"critical"],[211,52,232,50],[211,55,232,53,"totalMultiplier"],[211,70,232,68],[212,10,233,8,"high"],[212,14,233,12],[212,16,233,14,"BASE_THRESHOLDS"],[212,31,233,29],[212,32,233,30,"pothole"],[212,39,233,37],[212,40,233,38,"high"],[212,44,233,42],[212,47,233,45,"totalMultiplier"],[212,62,233,60],[213,10,234,8,"medium"],[213,16,234,14],[213,18,234,16,"BASE_THRESHOLDS"],[213,33,234,31],[213,34,234,32,"pothole"],[213,41,234,39],[213,42,234,40,"medium"],[213,48,234,46],[213,51,234,49,"totalMultiplier"],[213,66,234,64],[214,10,235,8,"low"],[214,13,235,11],[214,15,235,13,"BASE_THRESHOLDS"],[214,30,235,28],[214,31,235,29,"pothole"],[214,38,235,36],[214,39,235,37,"low"],[214,42,235,40],[214,45,235,43,"totalMultiplier"],[215,8,236,6],[215,9,236,7],[216,8,237,6,"braking"],[216,15,237,13],[216,17,237,15],[217,10,238,8,"emergency"],[217,19,238,17],[217,21,238,19,"BASE_THRESHOLDS"],[217,36,238,34],[217,37,238,35,"braking"],[217,44,238,42],[217,45,238,43,"emergency"],[217,54,238,52],[217,57,238,55,"totalMultiplier"],[217,72,238,70],[218,10,239,8,"sharp"],[218,15,239,13],[218,17,239,15,"BASE_THRESHOLDS"],[218,32,239,30],[218,33,239,31,"braking"],[218,40,239,38],[218,41,239,39,"sharp"],[218,46,239,44],[218,49,239,47,"totalMultiplier"],[218,64,239,62],[219,10,240,8,"moderate"],[219,18,240,16],[219,20,240,18,"BASE_THRESHOLDS"],[219,35,240,33],[219,36,240,34,"braking"],[219,43,240,41],[219,44,240,42,"moderate"],[219,52,240,50],[219,55,240,53,"totalMultiplier"],[220,8,241,6],[220,9,241,7],[221,8,242,6,"lateral"],[221,15,242,13],[221,17,242,15],[222,10,243,8,"sharp"],[222,15,243,13],[222,17,243,15,"BASE_THRESHOLDS"],[222,32,243,30],[222,33,243,31,"lateral"],[222,40,243,38],[222,41,243,39,"sharp"],[222,46,243,44],[222,49,243,47,"totalMultiplier"],[222,64,243,62],[223,10,244,8,"moderate"],[223,18,244,16],[223,20,244,18,"BASE_THRESHOLDS"],[223,35,244,33],[223,36,244,34,"lateral"],[223,43,244,41],[223,44,244,42,"moderate"],[223,52,244,50],[223,55,244,53,"totalMultiplier"],[224,8,245,6],[224,9,245,7],[225,8,246,6,"magnitude"],[225,17,246,15],[225,19,246,17],[226,10,247,8,"critical"],[226,18,247,16],[226,20,247,18,"BASE_THRESHOLDS"],[226,35,247,33],[226,36,247,34,"magnitude"],[226,45,247,43],[226,46,247,44,"critical"],[226,54,247,52],[226,57,247,55,"totalMultiplier"],[226,72,247,70],[227,10,248,8,"high"],[227,14,248,12],[227,16,248,14,"BASE_THRESHOLDS"],[227,31,248,29],[227,32,248,30,"magnitude"],[227,41,248,39],[227,42,248,40,"high"],[227,46,248,44],[227,49,248,47,"totalMultiplier"],[227,64,248,62],[228,10,249,8,"medium"],[228,16,249,14],[228,18,249,16,"BASE_THRESHOLDS"],[228,33,249,31],[228,34,249,32,"magnitude"],[228,43,249,41],[228,44,249,42,"medium"],[228,50,249,48],[228,53,249,51,"totalMultiplier"],[229,8,250,6],[230,6,251,4],[230,7,251,5],[231,4,252,2],[233,4,254,2],[234,0,255,0],[235,0,256,0],[236,4,257,10,"classifyEvent"],[236,17,257,23,"classifyEvent"],[236,18,257,24,"params"],[236,24,264,3],[236,26,264,27],[237,6,265,4],[237,12,265,10],[238,8,265,12,"deltaX"],[238,14,265,18],[239,8,265,20,"deltaY"],[239,14,265,26],[240,8,265,28,"deltaZ"],[240,14,265,34],[241,8,265,36,"magnitude"],[241,17,265,45],[242,8,265,47,"thresholds"],[242,18,265,57],[243,8,265,59,"data"],[244,6,265,64],[244,7,265,65],[244,10,265,68,"params"],[244,16,265,74],[245,6,267,4],[245,10,267,8,"eventType"],[245,19,267,28],[245,22,267,31],[245,30,267,39],[246,6,268,4],[246,10,268,8,"severity"],[246,18,268,31],[246,21,268,34],[246,22,268,35],[247,6,269,4],[247,10,269,8,"shouldNotifyUser"],[247,26,269,24],[247,29,269,27],[247,34,269,32],[248,6,270,4],[248,10,270,8,"shouldSendImmediately"],[248,31,270,29],[248,34,270,32],[248,39,270,37],[250,6,272,4],[251,6,273,4],[251,10,273,8,"magnitude"],[251,19,273,17],[251,23,273,21,"thresholds"],[251,33,273,31],[251,34,273,32,"magnitude"],[251,43,273,41],[251,44,273,42,"critical"],[251,52,273,50],[251,54,273,52],[252,8,274,6,"eventType"],[252,17,274,15],[252,20,274,18],[252,29,274,27],[253,8,275,6,"severity"],[253,16,275,14],[253,19,275,17],[253,20,275,18],[254,8,276,6,"shouldNotifyUser"],[254,24,276,22],[254,27,276,25],[254,31,276,29],[255,8,277,6,"shouldSendImmediately"],[255,29,277,27],[255,32,277,30],[255,36,277,34],[256,6,278,4],[257,6,279,4],[258,6,279,4],[258,11,280,9],[258,15,280,13,"deltaY"],[258,21,280,19],[258,25,280,23,"thresholds"],[258,35,280,33],[258,36,280,34,"pothole"],[258,43,280,41],[258,44,280,42,"critical"],[258,52,280,50],[258,54,280,52],[259,8,281,6,"eventType"],[259,17,281,15],[259,20,281,18],[259,29,281,27],[260,8,282,6,"severity"],[260,16,282,14],[260,19,282,17],[260,20,282,18],[261,8,283,6,"shouldNotifyUser"],[261,24,283,22],[261,27,283,25],[261,31,283,29],[262,8,284,6,"shouldSendImmediately"],[262,29,284,27],[262,32,284,30],[262,36,284,34],[263,6,285,4],[263,7,285,5],[263,13,286,9],[263,17,286,13,"deltaY"],[263,23,286,19],[263,27,286,23,"thresholds"],[263,37,286,33],[263,38,286,34,"pothole"],[263,45,286,41],[263,46,286,42,"high"],[263,50,286,46],[263,52,286,48],[264,8,287,6,"eventType"],[264,17,287,15],[264,20,287,18],[264,29,287,27],[265,8,288,6,"severity"],[265,16,288,14],[265,19,288,17],[265,20,288,18],[266,8,289,6,"shouldNotifyUser"],[266,24,289,22],[266,27,289,25],[266,31,289,29],[267,8,290,6,"shouldSendImmediately"],[267,29,290,27],[267,32,290,30],[267,37,290,35],[268,6,291,4],[268,7,291,5],[268,13,292,9],[268,17,292,13,"deltaY"],[268,23,292,19],[268,27,292,23,"thresholds"],[268,37,292,33],[268,38,292,34,"pothole"],[268,45,292,41],[268,46,292,42,"medium"],[268,52,292,48],[268,54,292,50],[269,8,293,6,"eventType"],[269,17,293,15],[269,20,293,18],[269,26,293,24],[270,8,294,6,"severity"],[270,16,294,14],[270,19,294,17],[270,20,294,18],[271,6,295,4],[271,7,295,5],[271,13,296,9],[271,17,296,13,"deltaY"],[271,23,296,19],[271,27,296,23,"thresholds"],[271,37,296,33],[271,38,296,34,"pothole"],[271,45,296,41],[271,46,296,42,"low"],[271,49,296,45],[271,51,296,47],[272,8,297,6,"eventType"],[272,17,297,15],[272,20,297,18],[272,31,297,29],[273,8,298,6,"severity"],[273,16,298,14],[273,19,298,17],[273,20,298,18],[274,6,299,4],[275,6,300,4],[276,6,300,4],[276,11,301,9],[276,15,301,13,"deltaZ"],[276,21,301,19],[276,25,301,23,"thresholds"],[276,35,301,33],[276,36,301,34,"braking"],[276,43,301,41],[276,44,301,42,"emergency"],[276,53,301,51],[276,55,301,53],[277,8,302,6,"eventType"],[277,17,302,15],[277,20,302,18],[277,29,302,27],[278,8,303,6,"severity"],[278,16,303,14],[278,19,303,17],[278,20,303,18],[279,8,304,6,"shouldNotifyUser"],[279,24,304,22],[279,27,304,25],[279,31,304,29],[280,8,305,6,"shouldSendImmediately"],[280,29,305,27],[280,32,305,30],[280,36,305,34],[281,6,306,4],[281,7,306,5],[281,13,307,9],[281,17,307,13,"deltaZ"],[281,23,307,19],[281,27,307,23,"thresholds"],[281,37,307,33],[281,38,307,34,"braking"],[281,45,307,41],[281,46,307,42,"sharp"],[281,51,307,47],[281,53,307,49],[282,8,308,6,"eventType"],[282,17,308,15],[282,20,308,18],[282,29,308,27],[283,8,309,6,"severity"],[283,16,309,14],[283,19,309,17],[283,20,309,18],[284,6,310,4],[284,7,310,5],[284,13,311,9],[284,17,311,13,"deltaZ"],[284,23,311,19],[284,27,311,23,"thresholds"],[284,37,311,33],[284,38,311,34,"braking"],[284,45,311,41],[284,46,311,42,"moderate"],[284,54,311,50],[284,56,311,52],[285,8,312,6,"eventType"],[285,17,312,15],[285,20,312,18],[285,29,312,27],[286,8,313,6,"severity"],[286,16,313,14],[286,19,313,17],[286,20,313,18],[287,6,314,4],[288,6,315,4],[289,6,315,4],[289,11,316,9],[289,15,316,13,"deltaX"],[289,21,316,19],[289,25,316,23,"thresholds"],[289,35,316,33],[289,36,316,34,"lateral"],[289,43,316,41],[289,44,316,42,"sharp"],[289,49,316,47],[289,51,316,49],[290,8,317,6,"eventType"],[290,17,317,15],[290,20,317,18],[290,31,317,29],[291,8,318,6,"severity"],[291,16,318,14],[291,19,318,17],[291,20,318,18],[292,6,319,4],[292,7,319,5],[292,13,320,9],[292,17,320,13,"deltaX"],[292,23,320,19],[292,27,320,23,"thresholds"],[292,37,320,33],[292,38,320,34,"lateral"],[292,45,320,41],[292,46,320,42,"moderate"],[292,54,320,50],[292,56,320,52],[293,8,321,6,"eventType"],[293,17,321,15],[293,20,321,18],[293,31,321,29],[294,8,322,6,"severity"],[294,16,322,14],[294,19,322,17],[294,20,322,18],[295,6,323,4],[297,6,325,4],[298,6,326,4],[298,10,326,8,"eventType"],[298,19,326,17],[298,24,326,22],[298,32,326,30],[298,36,326,34,"magnitude"],[298,45,326,43],[298,48,326,46],[298,51,326,49],[298,53,326,51],[299,8,327,6],[299,15,327,13],[299,19,327,17],[300,6,328,4],[302,6,330,4],[303,6,331,4],[303,12,331,10,"variance"],[303,20,331,18],[303,23,331,21],[303,27,331,25],[303,28,331,26,"calculateVariance"],[303,45,331,43],[303,46,331,44],[303,48,331,46],[303,49,331,47],[304,6,333,4],[304,13,333,11],[305,8,334,6,"eventType"],[305,17,334,15],[306,8,335,6,"severity"],[306,16,335,14],[307,8,336,6,"timestamp"],[307,17,336,15],[307,19,336,17,"data"],[307,23,336,21],[307,24,336,22,"timestamp"],[307,33,336,31],[308,8,337,6,"accelerometer"],[308,21,337,19],[308,23,337,21],[309,10,338,8,"x"],[309,11,338,9],[309,13,338,11,"data"],[309,17,338,15],[309,18,338,16,"x"],[309,19,338,17],[310,10,339,8,"y"],[310,11,339,9],[310,13,339,11,"data"],[310,17,339,15],[310,18,339,16,"y"],[310,19,339,17],[311,10,340,8,"z"],[311,11,340,9],[311,13,340,11,"data"],[311,17,340,15],[311,18,340,16,"z"],[311,19,340,17],[312,10,341,8,"magnitude"],[312,19,341,17],[313,10,342,8,"deltaY"],[313,16,342,14],[314,10,343,8,"deltaZ"],[314,16,343,14],[315,10,344,8,"deltaX"],[315,16,344,14],[316,10,344,16],[317,10,345,8,"variance"],[317,18,345,16],[317,19,345,18],[318,8,346,6],[318,9,346,7],[319,8,347,6,"roadType"],[319,16,347,14],[319,18,347,16],[319,22,347,20],[319,23,347,21,"detectedRoadType"],[319,39,347,37],[320,8,348,6,"shouldNotifyUser"],[320,24,348,22],[321,8,349,6,"shouldSendImmediately"],[322,6,350,4],[322,7,350,5],[323,4,351,2],[325,4,353,2],[326,0,354,0],[327,0,355,0],[328,4,356,2,"getRoadType"],[328,15,356,13,"getRoadType"],[328,16,356,13],[328,18,356,26],[329,6,357,4],[329,13,357,11],[329,17,357,15],[329,18,357,16,"detectedRoadType"],[329,34,357,32],[330,4,358,2],[332,4,360,2],[333,0,361,0],[334,0,362,0],[335,4,363,2,"reset"],[335,9,363,7,"reset"],[335,10,363,7],[335,12,363,10],[336,6,364,4],[336,10,364,8],[336,11,364,9,"previousData"],[336,23,364,21],[336,26,364,24],[336,30,364,28],[337,6,365,4],[337,10,365,8],[337,11,365,9,"roadTypeHistory"],[337,26,365,24],[337,29,365,27],[337,31,365,29],[338,6,366,4],[338,10,366,8],[338,11,366,9,"detectedRoadType"],[338,27,366,25],[338,30,366,28],[338,39,366,37],[339,4,367,2],[340,2,368,0],[341,2,370,0],[341,6,370,0,"_default"],[341,14,370,0],[341,17,370,15,"EventDetector"],[341,30,370,28],[342,0,370,29],[342,3]],"functionMap":{"names":["<global>","EventDetector","constructor","setCalibration","processAccelerometerData","updateRoadTypeHistory","calculateVariance","recentData.reduce$argument_0","detectRoadType","roadTypeHistory.reduce$argument_0","getAdaptiveThresholds","classifyEvent","getRoadType","reset"],"mappings":"AAA;ACoG;ECM;GDE;EEK;GFE;EGK;GHoC;EIK;GJO;EKM;mCCS,uBD;uCCG;KDG;GLG;EOK;qDCM,uBD;GPU;ESK;GTiC;EUK;GV8F;EWK;GXE;EYK;GZI;CDC"},"hasCjsExports":false},"type":"js/module"}]}