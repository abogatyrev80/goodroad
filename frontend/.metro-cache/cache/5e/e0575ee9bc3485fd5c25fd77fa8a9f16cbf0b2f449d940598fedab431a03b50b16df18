{"dependencies":[{"name":"expo-network","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":40,"index":40}}],"key":"1uj8I4G/JNBf3YRANaksFTH4dPs=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":41},"end":{"line":2,"column":69,"index":110}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"./LocalDatabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":111},"end":{"line":3,"column":85,"index":196}}],"key":"4OHGfS3RYJ9C2KSqX1/pnZT0rg0=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,_i,a,m,_e,_d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"SyncService\",{enumerable:!0,get:function(){return s}}),Object.defineProperty(_e,\"syncService\",{enumerable:!0,get:function(){return c}});var e,t=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[0])),n=r(_d[1]),o=(e=n)&&e.__esModule?e:{default:e},i=r(_d[2]);class s{syncInterval=null;isInitialized=!1;constructor(){this.backendUrl=\"https://roadqual-track.preview.emergentagent.com\",console.log('\\ud83d\\udd17 SyncService backend URL:',this.backendUrl)}async initialize(){if(!this.isInitialized)try{await i.localDB.initialize(),i.localDB.getDatabaseStats&&this.startPeriodicSync(),this.isInitialized=!0,console.log('\\u2705 Sync service initialized')}catch(e){console.error('\\u274c Sync service initialization error:',e),console.warn('\\u26a0\\ufe0f Sync service continuing without local database'),this.isInitialized=!0}}startPeriodicSync(){this.syncInterval=setInterval(async()=>{(await t.getNetworkStateAsync()).isConnected&&await this.syncWithServer()},3e4)}async stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null)}async syncWithServer(){try{return(await t.getNetworkStateAsync()).isConnected?(console.log('\\ud83d\\udd04 Starting sync with server...'),await this.uploadSensorData(),await this.downloadUpdatedWarnings(),await o.default.setItem('last_sync_time',(new Date).toISOString()),await i.localDB.cleanupOldData(30),console.log('\\u2705 Sync completed successfully'),!0):(console.log('\\ud83d\\udce1 No internet connection - sync skipped'),!1)}catch(e){return console.error('\\u274c Sync error:',e),!1}}async uploadSensorData(){const e=await i.localDB.getUnsyncedSensorData();if(0!==e.length){console.log(`\\ud83d\\udce4 Uploading ${e.length} sensor data records...`);try{const t=50;for(let n=0;n<e.length;n+=t){const o=e.slice(n,n+t),s=await fetch(`${this.backendUrl}api/sensor-data/batch`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({data:o.map(e=>({latitude:e.latitude,longitude:e.longitude,timestamp:e.timestamp,speed:e.speed,accuracy:e.accuracy,accelerometer:e.accelerometer,road_quality_score:e.roadQuality}))})});if(s.ok){const c=await s.json(),l=o.map(e=>e.id),d=c.inserted_ids||[];await i.localDB.markSensorDataSynced(l,d),console.log(`\\u2705 Uploaded batch ${Math.floor(n/t)+1}/${Math.ceil(e.length/t)}`)}else console.error(`\\u274c Failed to upload batch: ${s.status}`)}}catch(e){console.error('\\u274c Upload sensor data error:',e)}}else console.log('\\ud83d\\udce4 No unsynced sensor data to upload')}async downloadUpdatedWarnings(){try{const e=await i.localDB.getDownloadedRegions();for(const t of e){const e=await fetch(`${this.backendUrl}api/warnings/region/${t.code}?since=${t.lastSync}`);if(e.ok){const n=await e.json();if(n.length>0){const e=n.map(e=>({serverId:e._id,latitude:e.latitude,longitude:e.longitude,hazardType:e.hazard_type,severity:e.severity,description:e.description,isVerified:e.is_verified,region:t.code,city:e.city||'',country:e.country||'',lastUpdated:e.updated_at||(new Date).toISOString()}));await i.localDB.saveWarnings(e),await i.localDB.updateRegionSyncStatus(t.code,t.name,n.length),console.log(`\\ud83d\\udce5 Downloaded ${n.length} warnings for ${t.name}`)}}}}catch(e){console.error('\\u274c Download warnings error:',e)}}async downloadRegionData(e,n,o){try{if(!(await t.getNetworkStateAsync()).isConnected)throw new Error('No internet connection');console.log(`\\ud83d\\udce5 Downloading data for region: ${n}...`);const s=await fetch(`${this.backendUrl}api/warnings/region/${e}/full?north=${o.north}&south=${o.south}&east=${o.east}&west=${o.west}`);if(!s.ok)throw new Error(`Failed to download region data: ${s.status}`);const c=await s.json(),l=c.map(t=>({serverId:t._id,latitude:t.latitude,longitude:t.longitude,hazardType:t.hazard_type,severity:t.severity,description:t.description,isVerified:t.is_verified,region:e,city:t.city||'',country:t.country||'',lastUpdated:t.updated_at||(new Date).toISOString()}));return await i.localDB.saveWarnings(l),await i.localDB.updateRegionSyncStatus(e,n,c.length),console.log(`\\u2705 Downloaded ${c.length} warnings for ${n}`),!0}catch(e){return console.error(`\\u274c Failed to download region ${n}:`,e),!1}}async getAvailableRegions(){try{if(!(await t.getNetworkStateAsync()).isConnected)return[];const e=await fetch(`${this.backendUrl}api/regions/available`);return e.ok?await e.json():[]}catch(e){return console.error('\\u274c Failed to get available regions:',e),[]}}async saveOfflineSensorData(e,t,n,o,s,c){const l={latitude:e,longitude:t,timestamp:(new Date).toISOString(),speed:n,accuracy:o,accelerometer:s,roadQuality:c,isSynced:!1};return await i.localDB.saveSensorData(l)}async getNearbyWarningsOffline(e,t,n=1){return await i.localDB.getNearbyWarnings(e,t,n)}async getSyncStatus(){return await i.localDB.getSyncStatus()}async getDatabaseStats(){return await i.localDB.getDatabaseStats()}async forceFullSync(){return console.log('\\ud83d\\udd04 Forcing full sync...'),await this.syncWithServer()}async clearLocalData(){console.log('\\ud83d\\uddd1\\ufe0f Clearing all local data...')}}const c=new s});","lineCount":1,"map":[[1,94,17,0,"Object"],[1,101,17,0,"defineProperty"],[1,116,17,0,"_e"],[1,119,17,0],[1,134,17,0,"enumerable"],[1,146,17,0],[1,148,17,0,"get"],[1,152,17,0],[1,170,17,0,"SyncService"],[1,171,17,0],[1,175,309,0,"Object"],[1,182,309,0,"defineProperty"],[1,197,309,0,"_e"],[1,200,309,0],[1,215,309,0,"enumerable"],[1,227,309,0],[1,229,309,0,"get"],[1,233,309,0],[1,251,309,0,"syncService"],[1,252,309,0],[1,256,1,0],[1,260],[1,262,1,0,"Network"],[1,265],[1,498,1,0,"_interopNamespace"],[1,499,1,0,"r"],[1,501,1,0,"_d"],[1,504,1,0],[1,509,2,0,"_reactNativeAsyncStorageAsyncStorage"],[1,511,2,0,"r"],[1,513,2,0,"_d"],[1,516,2,0],[1,520,2,0,"AsyncStorage"],[1,523],[1,525,2,0,"_reactNativeAsyncStorageAsyncStorage"],[1,529],[1,556,3,0,"_LocalDatabase"],[1,558,3,0,"r"],[1,560,3,0,"_d"],[1,563,3,0],[1,567,17,7],[1,573,17,13,"SyncService"],[1,575,19,10,"syncInterval"],[1,588,19,48],[1,593,20,10,"isInitialized"],[1,608,20,26],[1,610,22,2,"constructor"],[1,624,23,4,"this"],[1,629,23,9,"backendUrl"],[1,640,23,19],[1,687,24,4,"console"],[1,695,24,12,"log"],[1,699,24,16],[1,739,24,47,"this"],[1,744,24,52,"backendUrl"],[1,755,25,2],[1,756,27,2],[1,772,27,8,"initialize"],[1,775,28,4],[1,779,28,8,"this"],[1,784,28,13,"isInitialized"],[1,798,30,4],[1,808,31,12,"localDB"],[1,810,31,19,"localDB"],[1,818,31,20,"initialize"],[1,831,34,10,"localDB"],[1,833,34,17,"localDB"],[1,841,34,18,"getDatabaseStats"],[1,859,35,8,"this"],[1,864,35,13,"startPeriodicSync"],[1,884,38,6,"this"],[1,889,38,11,"isInitialized"],[1,904,38,27],[1,906,40,6,"console"],[1,914,40,14,"log"],[1,918,40,18],[1,952,41,4],[1,953,41,6],[1,959,41,13,"error"],[1,962,42,6,"console"],[1,970,42,14,"error"],[1,976,42,20],[1,1020,42,60,"error"],[1,1023,43,6,"console"],[1,1031,43,14,"warn"],[1,1036,43,19],[1,1099,44,6,"this"],[1,1104,44,11,"isInitialized"],[1,1119,44,27],[1,1120,45,4],[1,1121,46,2],[1,1122,49,10,"startPeriodicSync"],[1,1142,51,4,"this"],[1,1147,51,9,"syncInterval"],[1,1160,51,24,"setInterval"],[1,1172,51,36,"async"],[1,1189,52,33,"Network"],[1,1191,52,41,"getNetworkStateAsync"],[1,1215,53,23,"isConnected"],[1,1234,54,14,"this"],[1,1239,54,19,"syncWithServer"],[1,1257,56,7],[1,1261,57,2],[1,1262,59,2],[1,1284,59,8,"stopPeriodicSync"],[1,1287,60,8,"this"],[1,1292,60,13,"syncInterval"],[1,1307,61,6,"clearInterval"],[1,1321,61,20,"this"],[1,1326,61,25,"syncInterval"],[1,1340,62,6,"this"],[1,1345,62,11,"syncInterval"],[1,1358,62,26],[1,1363,64,2],[1,1364,67,2],[1,1384,67,8,"syncWithServer"],[1,1387,68,4],[1,1391,70,6],[1,1404,69,33,"Network"],[1,1406,69,41,"getNetworkStateAsync"],[1,1430,70,24,"isConnected"],[1,1443,75,6,"console"],[1,1451,75,14,"log"],[1,1455,75,18],[1,1506,78,12,"this"],[1,1511,78,17,"uploadSensorData"],[1,1536,81,12,"this"],[1,1541,81,17,"downloadUpdatedWarnings"],[1,1573,84,12,"AsyncStorage"],[1,1575,84,24,"default"],[1,1583,84,25,"setItem"],[1,1591,84,33],[1,1609,84,51],[1,1613,84,55,"Date"],[1,1619,84,62,"toISOString"],[1,1640,87,12,"localDB"],[1,1642,87,19,"localDB"],[1,1650,87,20,"cleanupOldData"],[1,1665,87,35],[1,1669,89,6,"console"],[1,1677,89,14,"log"],[1,1681,89,18],[1,1720,90,13],[1,1724,71,8,"console"],[1,1732,71,16,"log"],[1,1736,71,20],[1,1791,72,15],[1,1793,91,4],[1,1794,91,6],[1,1800,91,13,"error"],[1,1803,93,6],[1,1810,92,6,"console"],[1,1818,92,14,"error"],[1,1824,92,20],[1,1845,92,37,"error"],[1,1849,93,13],[1,1850,94,4],[1,1851,95,2],[1,1852,98,2],[1,1874,98,16,"uploadSensorData"],[1,1877,99,4],[1,1883,99,10,"unsyncedData"],[1,1891,99,31,"localDB"],[1,1893,99,38,"localDB"],[1,1901,99,39,"getUnsyncedSensorData"],[1,1925,100,4],[1,1928,100,32],[1,1932,100,8,"unsyncedData"],[1,1934,100,21,"length"],[1,1941,100,4],[1,1942,105,4,"console"],[1,1950,105,12,"log"],[1,1954,105,16],[1,1980,105,32,"unsyncedData"],[1,1982,105,45,"length"],[1,2015,107,4],[1,2019,109,6],[1,2025,109,12,"batchSize"],[1,2027,109,24],[1,2030,110,6],[1,2034,110,11],[1,2038,110,15,"i"],[1,2040,110,19],[1,2042,110,22,"i"],[1,2044,110,26,"unsyncedData"],[1,2046,110,39,"length"],[1,2053,110,47,"i"],[1,2056,110,52,"batchSize"],[1,2058,110,63],[1,2059,111,8],[1,2065,111,14,"batch"],[1,2067,111,22,"unsyncedData"],[1,2069,111,35,"slice"],[1,2075,111,41,"i"],[1,2077,111,44,"i"],[1,2079,111,48,"batchSize"],[1,2082,113,14,"response"],[1,2090,113,31,"fetch"],[1,2096,113,37],[1,2099,113,40,"this"],[1,2104,113,45,"backendUrl"],[1,2138,113,80],[1,2139,114,10,"method"],[1,2146,114,18],[1,2153,115,10,"headers"],[1,2161,115,19],[1,2162,116,12],[1,2177,116,28],[1,2197,118,10,"body"],[1,2202,118,16,"JSON"],[1,2207,118,21,"stringify"],[1,2217,118,31],[1,2218,119,12,"data"],[1,2223,119,18,"batch"],[1,2225,119,24,"map"],[1,2229,119,28,"item"],[1,2233,119,32],[1,2234,120,14,"latitude"],[1,2243,120,24,"item"],[1,2245,120,29,"latitude"],[1,2254,121,14,"longitude"],[1,2264,121,25,"item"],[1,2266,121,30,"longitude"],[1,2276,122,14,"timestamp"],[1,2286,122,25,"item"],[1,2288,122,30,"timestamp"],[1,2298,123,14,"speed"],[1,2304,123,21,"item"],[1,2306,123,26,"speed"],[1,2312,124,14,"accuracy"],[1,2321,124,24,"item"],[1,2323,124,29,"accuracy"],[1,2332,125,14,"accelerometer"],[1,2346,125,29,"item"],[1,2348,125,34,"accelerometer"],[1,2362,126,14,"road_quality_score"],[1,2381,126,34,"item"],[1,2383,126,39,"roadQuality"],[1,2402,131,8],[1,2405,131,12,"response"],[1,2407,131,21,"ok"],[1,2410,131,25],[1,2411,132,10],[1,2417,132,16,"result"],[1,2425,132,31,"response"],[1,2427,132,40,"json"],[1,2434,133,16,"localIds"],[1,2436,133,27,"batch"],[1,2438,133,33,"map"],[1,2442,133,37,"item"],[1,2445,133,45,"item"],[1,2447,133,50,"id"],[1,2451,134,16,"serverIds"],[1,2453,134,28,"result"],[1,2455,134,35,"inserted_ids"],[1,2469,134,51],[1,2478,137,16,"localDB"],[1,2480,137,23,"localDB"],[1,2488,137,24,"markSensorDataSynced"],[1,2509,137,45,"localIds"],[1,2511,137,55,"serverIds"],[1,2514,139,10,"console"],[1,2522,139,18,"log"],[1,2526,139,22],[1,2551,139,42,"Math"],[1,2556,139,47,"floor"],[1,2562,139,53,"i"],[1,2564,139,55,"batchSize"],[1,2567,139,68],[1,2572,139,73,"Math"],[1,2577,139,78,"ceil"],[1,2582,139,83,"unsyncedData"],[1,2584,139,96,"length"],[1,2591,139,103,"batchSize"],[1,2596,140,8],[1,2602,141,10,"console"],[1,2610,141,18,"error"],[1,2616,141,24],[1,2650,141,53,"response"],[1,2652,141,62,"status"],[1,2661,143,6],[1,2662,144,4],[1,2663,144,6],[1,2669,144,13,"error"],[1,2672,145,6,"console"],[1,2680,145,14,"error"],[1,2686,145,20],[1,2721,145,51,"error"],[1,2723,146,4],[1,2724,103,4],[1,2730,101,6,"console"],[1,2738,101,14,"log"],[1,2742,101,18],[1,2791,147,2],[1,2792,150,2],[1,2821,150,16,"downloadUpdatedWarnings"],[1,2824,151,4],[1,2828,152,6],[1,2834,152,12,"downloadedRegions"],[1,2842,152,38,"localDB"],[1,2844,152,45,"localDB"],[1,2852,152,46,"getDownloadedRegions"],[1,2875,154,6],[1,2879,154,11],[1,2885,154,17,"region"],[1,2890,154,27,"downloadedRegions"],[1,2892,154,46],[1,2893,155,8],[1,2899,155,14,"response"],[1,2907,155,31,"fetch"],[1,2913,156,10],[1,2916,156,13,"this"],[1,2921,156,18,"backendUrl"],[1,2954,156,51,"region"],[1,2956,156,58,"code"],[1,2970,156,72,"region"],[1,2972,156,79,"lastSync"],[1,2984,159,8],[1,2987,159,12,"response"],[1,2989,159,21,"ok"],[1,2992,159,25],[1,2993,160,10],[1,2999,160,16,"warnings"],[1,3007,160,33,"response"],[1,3009,160,42,"json"],[1,3016,162,10],[1,3019,162,14,"warnings"],[1,3021,162,23,"length"],[1,3028,162,32],[1,3030,162,35],[1,3031,163,12],[1,3037,163,18,"localWarnings"],[1,3039,163,50,"warnings"],[1,3041,163,59,"map"],[1,3045,163,64,"w"],[1,3049,163,70],[1,3050,164,14,"serverId"],[1,3059,164,24,"w"],[1,3061,164,26,"_id"],[1,3065,165,14,"latitude"],[1,3074,165,24,"w"],[1,3076,165,26,"latitude"],[1,3085,166,14,"longitude"],[1,3095,166,25,"w"],[1,3097,166,27,"longitude"],[1,3107,167,14,"hazardType"],[1,3118,167,26,"w"],[1,3120,167,28,"hazard_type"],[1,3132,168,14,"severity"],[1,3141,168,24,"w"],[1,3143,168,26,"severity"],[1,3152,169,14,"description"],[1,3164,169,27,"w"],[1,3166,169,29,"description"],[1,3178,170,14,"isVerified"],[1,3189,170,26,"w"],[1,3191,170,28,"is_verified"],[1,3203,171,14,"region"],[1,3210,171,22,"region"],[1,3212,171,29,"code"],[1,3217,172,14,"city"],[1,3222,172,20,"w"],[1,3224,172,22,"city"],[1,3230,172,30],[1,3233,173,14,"country"],[1,3241,173,23,"w"],[1,3243,173,25,"country"],[1,3252,173,36],[1,3255,174,14,"lastUpdated"],[1,3267,174,27,"w"],[1,3269,174,29,"updated_at"],[1,3282,174,43],[1,3286,174,47,"Date"],[1,3292,174,54,"toISOString"],[1,3315,177,18,"localDB"],[1,3317,177,25,"localDB"],[1,3325,177,26,"saveWarnings"],[1,3338,177,39,"localWarnings"],[1,3347,178,18,"localDB"],[1,3349,178,25,"localDB"],[1,3357,178,26,"updateRegionSyncStatus"],[1,3380,179,14,"region"],[1,3382,179,21,"code"],[1,3387,180,14,"region"],[1,3389,180,21,"name"],[1,3394,181,14,"warnings"],[1,3396,181,23,"length"],[1,3404,184,12,"console"],[1,3412,184,20,"log"],[1,3416,184,24],[1,3443,184,41,"warnings"],[1,3445,184,50,"length"],[1,3468,184,73,"region"],[1,3470,184,80,"name"],[1,3477,185,10],[1,3478,186,8],[1,3479,187,6],[1,3480,188,4],[1,3481,188,6],[1,3487,188,13,"error"],[1,3490,189,6,"console"],[1,3498,189,14,"error"],[1,3504,189,20],[1,3538,189,50,"error"],[1,3540,190,4],[1,3541,191,2],[1,3542,194,2],[1,3566,194,8,"downloadRegionData"],[1,3567,194,27,"regionCode"],[1,3569,194,47,"regionName"],[1,3571,194,67,"bounds"],[1,3574,195,4],[1,3578,197,6],[1,3589,196,33,"Network"],[1,3591,196,41,"getNetworkStateAsync"],[1,3615,197,24,"isConnected"],[1,3627,198,8],[1,3633,198,14],[1,3637,198,18,"Error"],[1,3643,198,24],[1,3669,201,6,"console"],[1,3677,201,14,"log"],[1,3681,201,18],[1,3726,201,53,"regionName"],[1,3734,203,6],[1,3740,203,12,"response"],[1,3748,203,29,"fetch"],[1,3754,204,8],[1,3757,204,11,"this"],[1,3762,204,16,"backendUrl"],[1,3795,204,49,"regionCode"],[1,3811,205,17,"bounds"],[1,3813,205,24,"north"],[1,3828,205,39,"bounds"],[1,3830,205,46,"south"],[1,3844,205,60,"bounds"],[1,3846,205,67,"east"],[1,3859,205,80,"bounds"],[1,3861,205,87,"west"],[1,3869,208,6],[1,3873,208,11,"response"],[1,3875,208,20,"ok"],[1,3878,209,8],[1,3884,209,14],[1,3888,209,18,"Error"],[1,3894,209,24],[1,3929,209,59,"response"],[1,3931,209,68,"status"],[1,3941,212,6],[1,3947,212,12,"warnings"],[1,3955,212,29,"response"],[1,3957,212,38,"json"],[1,3964,214,12,"localWarnings"],[1,3966,214,44,"warnings"],[1,3968,214,53,"map"],[1,3972,214,58,"w"],[1,3976,214,64],[1,3977,215,8,"serverId"],[1,3986,215,18,"w"],[1,3988,215,20,"_id"],[1,3992,216,8,"latitude"],[1,4001,216,18,"w"],[1,4003,216,20,"latitude"],[1,4012,217,8,"longitude"],[1,4022,217,19,"w"],[1,4024,217,21,"longitude"],[1,4034,218,8,"hazardType"],[1,4045,218,20,"w"],[1,4047,218,22,"hazard_type"],[1,4059,219,8,"severity"],[1,4068,219,18,"w"],[1,4070,219,20,"severity"],[1,4079,220,8,"description"],[1,4091,220,21,"w"],[1,4093,220,23,"description"],[1,4105,221,8,"isVerified"],[1,4116,221,20,"w"],[1,4118,221,22,"is_verified"],[1,4130,222,8,"region"],[1,4137,222,16,"regionCode"],[1,4139,223,8,"city"],[1,4144,223,14,"w"],[1,4146,223,16,"city"],[1,4152,223,24],[1,4155,224,8,"country"],[1,4163,224,17,"w"],[1,4165,224,19,"country"],[1,4174,224,30],[1,4177,225,8,"lastUpdated"],[1,4189,225,21,"w"],[1,4191,225,23,"updated_at"],[1,4204,225,37],[1,4208,225,41,"Date"],[1,4214,225,48,"toISOString"],[1,4231,232,6],[1,4244,228,12,"localDB"],[1,4246,228,19,"localDB"],[1,4254,228,20,"saveWarnings"],[1,4267,228,33,"localWarnings"],[1,4276,229,12,"localDB"],[1,4278,229,19,"localDB"],[1,4286,229,20,"updateRegionSyncStatus"],[1,4309,229,43,"regionCode"],[1,4311,229,55,"regionName"],[1,4313,229,67,"warnings"],[1,4315,229,76,"length"],[1,4323,231,6,"console"],[1,4331,231,14,"log"],[1,4335,231,18],[1,4356,231,34,"warnings"],[1,4358,231,43,"length"],[1,4381,231,66,"regionName"],[1,4387,232,13],[1,4388,233,4],[1,4389,233,6],[1,4395,233,13,"error"],[1,4398,235,6],[1,4405,234,6,"console"],[1,4413,234,14,"error"],[1,4419,234,20],[1,4455,234,51,"regionName"],[1,4460,234,66,"error"],[1,4464,235,13],[1,4465,236,4],[1,4466,237,2],[1,4467,239,2],[1,4492,239,8,"getAvailableRegions"],[1,4495,240,4],[1,4499,242,6],[1,4510,241,33,"Network"],[1,4512,241,41,"getNetworkStateAsync"],[1,4536,242,24,"isConnected"],[1,4548,243,8],[1,4554,243,15],[1,4557,246,6],[1,4563,246,12,"response"],[1,4571,246,29,"fetch"],[1,4577,246,35],[1,4580,246,38,"this"],[1,4585,246,43,"backendUrl"],[1,4620,247,6],[1,4627,247,11,"response"],[1,4629,247,20,"ok"],[1,4638,249,19,"response"],[1,4640,249,28,"json"],[1,4647,247,31],[1,4649,250,4],[1,4650,250,6],[1,4656,250,13,"error"],[1,4659,252,6],[1,4666,251,6,"console"],[1,4674,251,14,"error"],[1,4680,251,20],[1,4722,251,58,"error"],[1,4725,252,13],[1,4727,253,4],[1,4728,254,2],[1,4729,257,2],[1,4756,257,8,"saveOfflineSensorData"],[1,4757,258,4,"latitude"],[1,4759,259,4,"longitude"],[1,4761,260,4,"speed"],[1,4763,261,4,"accuracy"],[1,4765,262,4,"accelerometer"],[1,4767,263,4,"roadQuality"],[1,4770,265,4],[1,4776,265,10,"sensorData"],[1,4778,265,66],[1,4779,266,6,"latitude"],[1,4790,267,6,"longitude"],[1,4802,268,6,"timestamp"],[1,4813,268,17],[1,4817,268,21,"Date"],[1,4823,268,28,"toISOString"],[1,4837,269,6,"speed"],[1,4845,270,6,"accuracy"],[1,4856,271,6,"accelerometer"],[1,4872,272,6,"roadQuality"],[1,4886,273,6,"isSynced"],[1,4896,273,16],[1,4899,276,4],[1,4912,276,17,"localDB"],[1,4914,276,24,"localDB"],[1,4922,276,25,"saveSensorData"],[1,4937,276,40,"sensorData"],[1,4939,277,2],[1,4940,279,2],[1,4970,279,8,"getNearbyWarningsOffline"],[1,4971,280,4,"latitude"],[1,4973,281,4,"longitude"],[1,4975,282,4,"radiusKm"],[1,4977,282,23],[1,4980,284,4],[1,4993,284,17,"localDB"],[1,4995,284,24,"localDB"],[1,5003,284,25,"getNearbyWarnings"],[1,5021,284,43,"latitude"],[1,5023,284,53,"longitude"],[1,5025,284,64,"radiusKm"],[1,5027,285,2],[1,5028,288,2],[1,5047,288,8,"getSyncStatus"],[1,5050,289,4],[1,5063,289,17,"localDB"],[1,5065,289,24,"localDB"],[1,5073,289,25,"getSyncStatus"],[1,5088,290,2],[1,5089,292,2],[1,5111,292,8,"getDatabaseStats"],[1,5114,293,4],[1,5127,293,17,"localDB"],[1,5129,293,24,"localDB"],[1,5137,293,25,"getDatabaseStats"],[1,5155,294,2],[1,5156,296,2],[1,5175,296,8,"forceFullSync"],[1,5178,298,4],[1,5185,297,4,"console"],[1,5193,297,12,"log"],[1,5197,297,16],[1,5240,298,17,"this"],[1,5245,298,22,"syncWithServer"],[1,5261,299,2],[1,5262,302,2],[1,5282,302,8,"clearLocalData"],[1,5285,304,4,"console"],[1,5293,304,12,"log"],[1,5297,304,16],[1,5345,306,2],[1,5347,309,7],[1,5353,309,13,"syncService"],[1,5355,309,27],[1,5359,309,31,"SyncService"],[1,5360,309,45],[1,5363]],"functionMap":{"names":["<global>","SyncService","constructor","initialize","startPeriodicSync","setInterval$argument_0","stopPeriodicSync","syncWithServer","uploadSensorData","batch.map$argument_0","downloadUpdatedWarnings","warnings.map$argument_0","downloadRegionData","getAvailableRegions","saveOfflineSensorData","getNearbyWarningsOffline","getSyncStatus","getDatabaseStats","forceFullSync","clearLocalData"],"mappings":"AAA;OCgB;ECK;GDG;EEE;GFmB;EGG;oCCE;KDK;GHC;EKE;GLK;EMG;GN4B;EOG;4BCqB;cDQ;qCCM,gBD;GPc;ESG;+DCa;cDY;GTgB;EWG;yDDoB;QCY;GXW;EYE;GZe;EaG;GboB;EcE;GdM;EeG;GfE;EgBE;GhBE;EiBE;GjBG;EkBG;GlBI;CDC"},"hasCjsExports":false},"type":"js/module"}]}