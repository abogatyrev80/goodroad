{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[1], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  /**\n   * EventDetector.ts\n   * \n   * Умная система детекции дорожных событий на основе данных акселерометра\n   * - Классификация событий (яма, торможение, вибрация)\n   * - Определение типа дороги (асфальт, грунт, гравий)\n   * - Адаптивные пороги на основе типа дороги и автомобиля\n   */\n\n  // 1=критичный, 5=нормальный\n\n  /**\n   * Пороговые значения для детекции событий\n   * Научно обоснованные на основе исследований качества дорог\n   */\n  var BASE_THRESHOLDS = {\n    // Вертикальная ось (Y) - основная для дорог\n    pothole: {\n      critical: 4.5,\n      // > 4.5 m/s² - критичная яма\n      high: 3.0,\n      // 3.0-4.5 m/s² - яма\n      medium: 2.0,\n      // 2.0-3.0 m/s² - неровность\n      low: 1.5 // 1.5-2.0 m/s² - мелкий дефект\n    },\n    // Продольная ось (Z) - торможение/разгон\n    braking: {\n      emergency: 3.0,\n      // > 3.0 m/s² - экстренное торможение\n      sharp: 2.5,\n      // 2.5-3.0 m/s² - резкое торможение\n      moderate: 1.5 // 1.5-2.5 m/s² - умеренное торможение\n    },\n    // Поперечная ось (X) - боковые качания\n    lateral: {\n      sharp: 2.5,\n      // > 2.5 m/s² - резкий маневр\n      moderate: 1.5 // 1.5-2.5 m/s² - умеренное качание\n    },\n    // Общая magnitude для комбинированных событий\n    magnitude: {\n      critical: 5.0,\n      // Критичное событие\n      high: 4.0,\n      // Высокая интенсивность\n      medium: 3.0 // Средняя интенсивность\n    }\n  };\n\n  /**\n   * Множители для разных типов дорог\n   */\n  var ROAD_TYPE_MULTIPLIERS = {\n    asphalt: 1.0,\n    // Стандартные пороги\n    gravel: 1.5,\n    // Гравий - больше допустимая вибрация\n    dirt: 1.8,\n    // Грунт - ещё больше вибрации\n    unknown: 1.2 // Неизвестно - осторожный подход\n  };\n\n  /**\n   * Множители для разных типов автомобилей\n   */\n  var VEHICLE_TYPE_MULTIPLIERS = {\n    sedan: 1.0,\n    // Легковой - мягкая подвеска, чувствительнее\n    crossover: 0.9,\n    // Кроссовер - средняя подвеска\n    suv: 0.8 // Внедорожник - жёсткая подвеска, менее чувствителен\n  };\n  var EventDetector = /*#__PURE__*/function () {\n    // История вибраций для определения типа дороги\n\n    function EventDetector(calibration) {\n      (0, _classCallCheck.default)(this, EventDetector);\n      this.previousData = null;\n      this.calibration = null;\n      this.detectedRoadType = 'unknown';\n      this.roadTypeHistory = [];\n      this.calibration = calibration || null;\n    }\n\n    /**\n     * Установить калибровочный профиль\n     */\n    return (0, _createClass.default)(EventDetector, [{\n      key: \"setCalibration\",\n      value: function setCalibration(calibration) {\n        this.calibration = calibration;\n      }\n\n      /**\n       * Основной метод обработки данных акселерометра\n       */\n    }, {\n      key: \"processAccelerometerData\",\n      value: function processAccelerometerData(data) {\n        // Первое чтение - сохраняем и выходим\n        if (!this.previousData) {\n          this.previousData = data;\n          return null;\n        }\n\n        // Вычисляем изменения (delta)\n        var deltaX = Math.abs(data.x - this.previousData.x);\n        var deltaY = Math.abs(data.y - this.previousData.y);\n        var deltaZ = Math.abs(data.z - this.previousData.z);\n\n        // Общая magnitude изменения\n        var magnitude = Math.sqrt(deltaX ** 2 + deltaY ** 2 + deltaZ ** 2);\n\n        // Обновляем историю для определения типа дороги\n        this.updateRoadTypeHistory(magnitude);\n        this.detectRoadType();\n\n        // Получаем адаптивные пороги\n        var thresholds = this.getAdaptiveThresholds();\n\n        // Классифицируем событие\n        var event = this.classifyEvent({\n          deltaX,\n          deltaY,\n          deltaZ,\n          magnitude,\n          thresholds,\n          data\n        });\n\n        // Обновляем предыдущие данные\n        this.previousData = data;\n        return event;\n      }\n\n      /**\n       * Обновить историю вибраций для определения типа дороги\n       */\n    }, {\n      key: \"updateRoadTypeHistory\",\n      value: function updateRoadTypeHistory(magnitude) {\n        this.roadTypeHistory.push(magnitude);\n\n        // Храним только последние 100 измерений (примерно 2 секунды при 50Hz)\n        if (this.roadTypeHistory.length > 100) {\n          this.roadTypeHistory.shift();\n        }\n      }\n\n      /**\n       * Автоматическое определение типа дороги\n       */\n    }, {\n      key: \"detectRoadType\",\n      value: function detectRoadType() {\n        if (this.roadTypeHistory.length < 50) {\n          return; // Недостаточно данных\n        }\n\n        // Вычисляем среднюю базовую вибрацию\n        var avgVibration = this.roadTypeHistory.reduce((sum, val) => sum + val, 0) / this.roadTypeHistory.length;\n\n        // Классификация на основе средней вибрации\n        if (avgVibration < 0.5) {\n          this.detectedRoadType = 'asphalt'; // Низкая вибрация = асфальт\n        } else if (avgVibration < 1.0) {\n          this.detectedRoadType = 'gravel'; // Средняя вибрация = гравий\n        } else {\n          this.detectedRoadType = 'dirt'; // Высокая вибрация = грунт\n        }\n      }\n\n      /**\n       * Получить адаптивные пороги с учётом типа дороги и автомобиля\n       */\n    }, {\n      key: \"getAdaptiveThresholds\",\n      value: function getAdaptiveThresholds() {\n        var roadMultiplier = ROAD_TYPE_MULTIPLIERS[this.detectedRoadType];\n        var vehicleMultiplier = this.calibration ? VEHICLE_TYPE_MULTIPLIERS[this.calibration.vehicleType] : 1.0;\n        var calibrationMultiplier = this.calibration?.thresholdMultiplier || 1.0;\n        var totalMultiplier = roadMultiplier * vehicleMultiplier * calibrationMultiplier;\n\n        // Применяем множитель ко всем порогам\n        return {\n          pothole: {\n            critical: BASE_THRESHOLDS.pothole.critical * totalMultiplier,\n            high: BASE_THRESHOLDS.pothole.high * totalMultiplier,\n            medium: BASE_THRESHOLDS.pothole.medium * totalMultiplier,\n            low: BASE_THRESHOLDS.pothole.low * totalMultiplier\n          },\n          braking: {\n            emergency: BASE_THRESHOLDS.braking.emergency * totalMultiplier,\n            sharp: BASE_THRESHOLDS.braking.sharp * totalMultiplier,\n            moderate: BASE_THRESHOLDS.braking.moderate * totalMultiplier\n          },\n          lateral: {\n            sharp: BASE_THRESHOLDS.lateral.sharp * totalMultiplier,\n            moderate: BASE_THRESHOLDS.lateral.moderate * totalMultiplier\n          },\n          magnitude: {\n            critical: BASE_THRESHOLDS.magnitude.critical * totalMultiplier,\n            high: BASE_THRESHOLDS.magnitude.high * totalMultiplier,\n            medium: BASE_THRESHOLDS.magnitude.medium * totalMultiplier\n          }\n        };\n      }\n\n      /**\n       * Классификация события на основе данных акселерометра\n       */\n    }, {\n      key: \"classifyEvent\",\n      value: function classifyEvent(params) {\n        var deltaX = params.deltaX,\n          deltaY = params.deltaY,\n          deltaZ = params.deltaZ,\n          magnitude = params.magnitude,\n          thresholds = params.thresholds,\n          data = params.data;\n        var eventType = 'normal';\n        var severity = 5;\n        var shouldNotifyUser = false;\n        var shouldSendImmediately = false;\n\n        // Проверка критичных событий (приоритет 1)\n        if (magnitude >= thresholds.magnitude.critical) {\n          eventType = 'pothole';\n          severity = 1;\n          shouldNotifyUser = true;\n          shouldSendImmediately = true;\n        }\n        // Проверка ям и неровностей (вертикальная ось Y)\n        else if (deltaY >= thresholds.pothole.critical) {\n          eventType = 'pothole';\n          severity = 1;\n          shouldNotifyUser = true;\n          shouldSendImmediately = true;\n        } else if (deltaY >= thresholds.pothole.high) {\n          eventType = 'pothole';\n          severity = 2;\n          shouldNotifyUser = true;\n          shouldSendImmediately = false;\n        } else if (deltaY >= thresholds.pothole.medium) {\n          eventType = 'bump';\n          severity = 3;\n        } else if (deltaY >= thresholds.pothole.low) {\n          eventType = 'vibration';\n          severity = 4;\n        }\n        // Проверка торможения (продольная ось Z)\n        else if (deltaZ >= thresholds.braking.emergency) {\n          eventType = 'braking';\n          severity = 1;\n          shouldNotifyUser = true;\n          shouldSendImmediately = true;\n        } else if (deltaZ >= thresholds.braking.sharp) {\n          eventType = 'braking';\n          severity = 2;\n        } else if (deltaZ >= thresholds.braking.moderate) {\n          eventType = 'braking';\n          severity = 3;\n        }\n        // Проверка боковых качаний (поперечная ось X)\n        else if (deltaX >= thresholds.lateral.sharp) {\n          eventType = 'vibration';\n          severity = 2;\n        } else if (deltaX >= thresholds.lateral.moderate) {\n          eventType = 'vibration';\n          severity = 3;\n        }\n\n        // Если нет значимых событий - возвращаем null\n        if (eventType === 'normal' && magnitude < 1.0) {\n          return null;\n        }\n        return {\n          eventType,\n          severity,\n          timestamp: data.timestamp,\n          accelerometer: {\n            x: data.x,\n            y: data.y,\n            z: data.z,\n            magnitude,\n            deltaY,\n            deltaZ\n          },\n          roadType: this.detectedRoadType,\n          shouldNotifyUser,\n          shouldSendImmediately\n        };\n      }\n\n      /**\n       * Получить текущий тип дороги\n       */\n    }, {\n      key: \"getRoadType\",\n      value: function getRoadType() {\n        return this.detectedRoadType;\n      }\n\n      /**\n       * Сбросить историю (например, при смене маршрута)\n       */\n    }, {\n      key: \"reset\",\n      value: function reset() {\n        this.previousData = null;\n        this.roadTypeHistory = [];\n        this.detectedRoadType = 'unknown';\n      }\n    }]);\n  }();\n  var _default = EventDetector;\n});","lineCount":339,"map":[[12,2,338,0,"Object"],[12,8,338,0],[12,9,338,0,"defineProperty"],[12,23,338,0],[12,24,338,0,"exports"],[12,31,338,0],[13,4,338,0,"enumerable"],[13,14,338,0],[14,4,338,0,"get"],[14,7,338,0],[14,18,338,0,"get"],[14,19,338,0],[15,6,338,0],[15,13,338,0,"_default"],[15,21,338,0],[16,4,338,0],[17,2,338,0],[18,2,338,29],[18,6,338,29,"_babelRuntimeHelpersClassCallCheck"],[18,40,338,29],[18,43,338,29,"require"],[18,50,338,29],[18,51,338,29,"_dependencyMap"],[18,65,338,29],[19,2,338,29],[19,6,338,29,"_classCallCheck"],[19,21,338,29],[19,24,338,29,"_interopDefault"],[19,39,338,29],[19,40,338,29,"_babelRuntimeHelpersClassCallCheck"],[19,74,338,29],[20,2,338,29],[20,6,338,29,"_babelRuntimeHelpersCreateClass"],[20,37,338,29],[20,40,338,29,"require"],[20,47,338,29],[20,48,338,29,"_dependencyMap"],[20,62,338,29],[21,2,338,29],[21,6,338,29,"_createClass"],[21,18,338,29],[21,21,338,29,"_interopDefault"],[21,36,338,29],[21,37,338,29,"_babelRuntimeHelpersCreateClass"],[21,68,338,29],[22,2,1,0],[23,0,2,0],[24,0,3,0],[25,0,4,0],[26,0,5,0],[27,0,6,0],[28,0,7,0],[29,0,8,0],[31,2,13,47],[33,2,45,0],[34,0,46,0],[35,0,47,0],[36,0,48,0],[37,2,49,0],[37,6,49,6,"BASE_THRESHOLDS"],[37,21,49,21],[37,24,49,24],[38,4,50,2],[39,4,51,2,"pothole"],[39,11,51,9],[39,13,51,11],[40,6,52,4,"critical"],[40,14,52,12],[40,16,52,14],[40,19,52,17],[41,6,52,21],[42,6,53,4,"high"],[42,10,53,8],[42,12,53,10],[42,15,53,13],[43,6,53,21],[44,6,54,4,"medium"],[44,12,54,10],[44,14,54,12],[44,17,54,15],[45,6,54,21],[46,6,55,4,"low"],[46,9,55,7],[46,11,55,9],[46,14,55,12],[46,15,55,21],[47,4,56,2],[47,5,56,3],[48,4,58,2],[49,4,59,2,"braking"],[49,11,59,9],[49,13,59,11],[50,6,60,4,"emergency"],[50,15,60,13],[50,17,60,15],[50,20,60,18],[51,6,60,21],[52,6,61,4,"sharp"],[52,11,61,9],[52,13,61,11],[52,16,61,14],[53,6,61,21],[54,6,62,4,"moderate"],[54,14,62,12],[54,16,62,14],[54,19,62,17],[54,20,62,21],[55,4,63,2],[55,5,63,3],[56,4,65,2],[57,4,66,2,"lateral"],[57,11,66,9],[57,13,66,11],[58,6,67,4,"sharp"],[58,11,67,9],[58,13,67,11],[58,16,67,14],[59,6,67,21],[60,6,68,4,"moderate"],[60,14,68,12],[60,16,68,14],[60,19,68,17],[60,20,68,21],[61,4,69,2],[61,5,69,3],[62,4,71,2],[63,4,72,2,"magnitude"],[63,13,72,11],[63,15,72,13],[64,6,73,4,"critical"],[64,14,73,12],[64,16,73,14],[64,19,73,17],[65,6,73,21],[66,6,74,4,"high"],[66,10,74,8],[66,12,74,10],[66,15,74,13],[67,6,74,21],[68,6,75,4,"medium"],[68,12,75,10],[68,14,75,12],[68,17,75,15],[68,18,75,21],[69,4,76,2],[70,2,77,0],[70,3,77,1],[72,2,79,0],[73,0,80,0],[74,0,81,0],[75,2,82,0],[75,6,82,6,"ROAD_TYPE_MULTIPLIERS"],[75,27,82,53],[75,30,82,56],[76,4,83,2,"asphalt"],[76,11,83,9],[76,13,83,11],[76,16,83,14],[77,4,83,19],[78,4,84,2,"gravel"],[78,10,84,8],[78,12,84,10],[78,15,84,13],[79,4,84,19],[80,4,85,2,"dirt"],[80,8,85,6],[80,10,85,8],[80,13,85,11],[81,4,85,19],[82,4,86,2,"unknown"],[82,11,86,9],[82,13,86,11],[82,16,86,14],[82,17,86,19],[83,2,87,0],[83,3,87,1],[85,2,89,0],[86,0,90,0],[87,0,91,0],[88,2,92,0],[88,6,92,6,"VEHICLE_TYPE_MULTIPLIERS"],[88,30,92,59],[88,33,92,62],[89,4,93,2,"sedan"],[89,9,93,7],[89,11,93,9],[89,14,93,12],[90,4,93,19],[91,4,94,2,"crossover"],[91,13,94,11],[91,15,94,13],[91,18,94,16],[92,4,94,19],[93,4,95,2,"suv"],[93,7,95,5],[93,9,95,7],[93,12,95,10],[93,13,95,19],[94,2,96,0],[94,3,96,1],[95,2,96,2],[95,6,98,6,"EventDetector"],[95,19,98,19],[96,4,102,42],[98,4,104,2],[98,13,104,2,"EventDetector"],[98,27,104,14,"calibration"],[98,38,104,46],[98,40,104,48],[99,6,104,48],[99,10,104,48,"_classCallCheck"],[99,25,104,48],[99,26,104,48,"default"],[99,33,104,48],[99,41,104,48,"EventDetector"],[99,54,104,48],[100,6,104,48],[100,11,99,10,"previousData"],[100,23,99,22],[100,26,99,51],[100,30,99,55],[101,6,99,55],[101,11,100,10,"calibration"],[101,22,100,21],[101,25,100,51],[101,29,100,55],[102,6,100,55],[102,11,101,10,"detectedRoadType"],[102,27,101,26],[102,30,101,39],[102,39,101,48],[103,6,101,48],[103,11,102,10,"roadTypeHistory"],[103,26,102,25],[103,29,102,38],[103,31,102,40],[104,6,105,4],[104,10,105,8],[104,11,105,9,"calibration"],[104,22,105,20],[104,25,105,23,"calibration"],[104,36,105,34],[104,40,105,38],[104,44,105,42],[105,4,106,2],[107,4,108,2],[108,0,109,0],[109,0,110,0],[110,4,108,2],[110,15,108,2,"_createClass"],[110,27,108,2],[110,28,108,2,"default"],[110,35,108,2],[110,37,108,2,"EventDetector"],[110,50,108,2],[111,6,108,2,"key"],[111,9,108,2],[112,6,108,2,"value"],[112,11,108,2],[112,13,111,2],[112,22,111,2,"setCalibration"],[112,36,111,16,"setCalibration"],[112,37,111,17,"calibration"],[112,48,111,48],[112,50,111,50],[113,8,112,4],[113,12,112,8],[113,13,112,9,"calibration"],[113,24,112,20],[113,27,112,23,"calibration"],[113,38,112,34],[114,6,113,2],[116,6,115,2],[117,0,116,0],[118,0,117,0],[119,4,115,2],[120,6,115,2,"key"],[120,9,115,2],[121,6,115,2,"value"],[121,11,115,2],[121,13,118,2],[121,22,118,2,"processAccelerometerData"],[121,46,118,26,"processAccelerometerData"],[121,47,118,27,"data"],[121,51,118,50],[121,53,118,74],[122,8,119,4],[123,8,120,4],[123,12,120,8],[123,13,120,9],[123,17,120,13],[123,18,120,14,"previousData"],[123,30,120,26],[123,32,120,28],[124,10,121,6],[124,14,121,10],[124,15,121,11,"previousData"],[124,27,121,23],[124,30,121,26,"data"],[124,34,121,30],[125,10,122,6],[125,17,122,13],[125,21,122,17],[126,8,123,4],[128,8,125,4],[129,8,126,4],[129,12,126,10,"deltaX"],[129,18,126,16],[129,21,126,19,"Math"],[129,25,126,23],[129,26,126,24,"abs"],[129,29,126,27],[129,30,126,28,"data"],[129,34,126,32],[129,35,126,33,"x"],[129,36,126,34],[129,39,126,37],[129,43,126,41],[129,44,126,42,"previousData"],[129,56,126,54],[129,57,126,55,"x"],[129,58,126,56],[129,59,126,57],[130,8,127,4],[130,12,127,10,"deltaY"],[130,18,127,16],[130,21,127,19,"Math"],[130,25,127,23],[130,26,127,24,"abs"],[130,29,127,27],[130,30,127,28,"data"],[130,34,127,32],[130,35,127,33,"y"],[130,36,127,34],[130,39,127,37],[130,43,127,41],[130,44,127,42,"previousData"],[130,56,127,54],[130,57,127,55,"y"],[130,58,127,56],[130,59,127,57],[131,8,128,4],[131,12,128,10,"deltaZ"],[131,18,128,16],[131,21,128,19,"Math"],[131,25,128,23],[131,26,128,24,"abs"],[131,29,128,27],[131,30,128,28,"data"],[131,34,128,32],[131,35,128,33,"z"],[131,36,128,34],[131,39,128,37],[131,43,128,41],[131,44,128,42,"previousData"],[131,56,128,54],[131,57,128,55,"z"],[131,58,128,56],[131,59,128,57],[133,8,130,4],[134,8,131,4],[134,12,131,10,"magnitude"],[134,21,131,19],[134,24,131,22,"Math"],[134,28,131,26],[134,29,131,27,"sqrt"],[134,33,131,31],[134,34,131,32,"deltaX"],[134,40,131,38],[134,44,131,42],[134,45,131,43],[134,48,131,46,"deltaY"],[134,54,131,52],[134,58,131,56],[134,59,131,57],[134,62,131,60,"deltaZ"],[134,68,131,66],[134,72,131,70],[134,73,131,71],[134,74,131,72],[136,8,133,4],[137,8,134,4],[137,12,134,8],[137,13,134,9,"updateRoadTypeHistory"],[137,34,134,30],[137,35,134,31,"magnitude"],[137,44,134,40],[137,45,134,41],[138,8,135,4],[138,12,135,8],[138,13,135,9,"detectRoadType"],[138,27,135,23],[138,28,135,24],[138,29,135,25],[140,8,137,4],[141,8,138,4],[141,12,138,10,"thresholds"],[141,22,138,20],[141,25,138,23],[141,29,138,27],[141,30,138,28,"getAdaptiveThresholds"],[141,51,138,49],[141,52,138,50],[141,53,138,51],[143,8,140,4],[144,8,141,4],[144,12,141,10,"event"],[144,17,141,15],[144,20,141,18],[144,24,141,22],[144,25,141,23,"classifyEvent"],[144,38,141,36],[144,39,141,37],[145,10,142,6,"deltaX"],[145,16,142,12],[146,10,143,6,"deltaY"],[146,16,143,12],[147,10,144,6,"deltaZ"],[147,16,144,12],[148,10,145,6,"magnitude"],[148,19,145,15],[149,10,146,6,"thresholds"],[149,20,146,16],[150,10,147,6,"data"],[151,8,148,4],[151,9,148,5],[151,10,148,6],[153,8,150,4],[154,8,151,4],[154,12,151,8],[154,13,151,9,"previousData"],[154,25,151,21],[154,28,151,24,"data"],[154,32,151,28],[155,8,153,4],[155,15,153,11,"event"],[155,20,153,16],[156,6,154,2],[158,6,156,2],[159,0,157,0],[160,0,158,0],[161,4,156,2],[162,6,156,2,"key"],[162,9,156,2],[163,6,156,2,"value"],[163,11,156,2],[163,13,159,2],[163,22,159,10,"updateRoadTypeHistory"],[163,43,159,31,"updateRoadTypeHistory"],[163,44,159,32,"magnitude"],[163,53,159,49],[163,55,159,51],[164,8,160,4],[164,12,160,8],[164,13,160,9,"roadTypeHistory"],[164,28,160,24],[164,29,160,25,"push"],[164,33,160,29],[164,34,160,30,"magnitude"],[164,43,160,39],[164,44,160,40],[166,8,162,4],[167,8,163,4],[167,12,163,8],[167,16,163,12],[167,17,163,13,"roadTypeHistory"],[167,32,163,28],[167,33,163,29,"length"],[167,39,163,35],[167,42,163,38],[167,45,163,41],[167,47,163,43],[168,10,164,6],[168,14,164,10],[168,15,164,11,"roadTypeHistory"],[168,30,164,26],[168,31,164,27,"shift"],[168,36,164,32],[168,37,164,33],[168,38,164,34],[169,8,165,4],[170,6,166,2],[172,6,168,2],[173,0,169,0],[174,0,170,0],[175,4,168,2],[176,6,168,2,"key"],[176,9,168,2],[177,6,168,2,"value"],[177,11,168,2],[177,13,171,2],[177,22,171,10,"detectRoadType"],[177,36,171,24,"detectRoadType"],[177,37,171,24],[177,39,171,27],[178,8,172,4],[178,12,172,8],[178,16,172,12],[178,17,172,13,"roadTypeHistory"],[178,32,172,28],[178,33,172,29,"length"],[178,39,172,35],[178,42,172,38],[178,44,172,40],[178,46,172,42],[179,10,173,6],[179,17,173,13],[179,18,173,14],[180,8,174,4],[182,8,176,4],[183,8,177,4],[183,12,177,10,"avgVibration"],[183,24,177,22],[183,27,177,25],[183,31,177,29],[183,32,177,30,"roadTypeHistory"],[183,47,177,45],[183,48,177,46,"reduce"],[183,54,177,52],[183,55,177,53],[183,56,177,54,"sum"],[183,59,177,57],[183,61,177,59,"val"],[183,64,177,62],[183,69,177,67,"sum"],[183,72,177,70],[183,75,177,73,"val"],[183,78,177,76],[183,80,177,78],[183,81,177,79],[183,82,177,80],[183,85,177,83],[183,89,177,87],[183,90,177,88,"roadTypeHistory"],[183,105,177,103],[183,106,177,104,"length"],[183,112,177,110],[185,8,179,4],[186,8,180,4],[186,12,180,8,"avgVibration"],[186,24,180,20],[186,27,180,23],[186,30,180,26],[186,32,180,28],[187,10,181,6],[187,14,181,10],[187,15,181,11,"detectedRoadType"],[187,31,181,27],[187,34,181,30],[187,43,181,39],[187,44,181,40],[187,45,181,41],[188,8,182,4],[188,9,182,5],[188,15,182,11],[188,19,182,15,"avgVibration"],[188,31,182,27],[188,34,182,30],[188,37,182,33],[188,39,182,35],[189,10,183,6],[189,14,183,10],[189,15,183,11,"detectedRoadType"],[189,31,183,27],[189,34,183,30],[189,42,183,38],[189,43,183,39],[189,44,183,40],[190,8,184,4],[190,9,184,5],[190,15,184,11],[191,10,185,6],[191,14,185,10],[191,15,185,11,"detectedRoadType"],[191,31,185,27],[191,34,185,30],[191,40,185,36],[191,41,185,37],[191,42,185,38],[192,8,186,4],[193,6,187,2],[195,6,189,2],[196,0,190,0],[197,0,191,0],[198,4,189,2],[199,6,189,2,"key"],[199,9,189,2],[200,6,189,2,"value"],[200,11,189,2],[200,13,192,2],[200,22,192,10,"getAdaptiveThresholds"],[200,43,192,31,"getAdaptiveThresholds"],[200,44,192,31],[200,46,192,34],[201,8,193,4],[201,12,193,10,"roadMultiplier"],[201,26,193,24],[201,29,193,27,"ROAD_TYPE_MULTIPLIERS"],[201,50,193,48],[201,51,193,49],[201,55,193,53],[201,56,193,54,"detectedRoadType"],[201,72,193,70],[201,73,193,71],[202,8,194,4],[202,12,194,10,"vehicleMultiplier"],[202,29,194,27],[202,32,194,30],[202,36,194,34],[202,37,194,35,"calibration"],[202,48,194,46],[202,51,195,8,"VEHICLE_TYPE_MULTIPLIERS"],[202,75,195,32],[202,76,195,33],[202,80,195,37],[202,81,195,38,"calibration"],[202,92,195,49],[202,93,195,50,"vehicleType"],[202,104,195,61],[202,105,195,62],[202,108,196,8],[202,111,196,11],[203,8,198,4],[203,12,198,10,"calibrationMultiplier"],[203,33,198,31],[203,36,198,34],[203,40,198,38],[203,41,198,39,"calibration"],[203,52,198,50],[203,54,198,52,"thresholdMultiplier"],[203,73,198,71],[203,77,198,75],[203,80,198,78],[204,8,200,4],[204,12,200,10,"totalMultiplier"],[204,27,200,25],[204,30,200,28,"roadMultiplier"],[204,44,200,42],[204,47,200,45,"vehicleMultiplier"],[204,64,200,62],[204,67,200,65,"calibrationMultiplier"],[204,88,200,86],[206,8,202,4],[207,8,203,4],[207,15,203,11],[208,10,204,6,"pothole"],[208,17,204,13],[208,19,204,15],[209,12,205,8,"critical"],[209,20,205,16],[209,22,205,18,"BASE_THRESHOLDS"],[209,37,205,33],[209,38,205,34,"pothole"],[209,45,205,41],[209,46,205,42,"critical"],[209,54,205,50],[209,57,205,53,"totalMultiplier"],[209,72,205,68],[210,12,206,8,"high"],[210,16,206,12],[210,18,206,14,"BASE_THRESHOLDS"],[210,33,206,29],[210,34,206,30,"pothole"],[210,41,206,37],[210,42,206,38,"high"],[210,46,206,42],[210,49,206,45,"totalMultiplier"],[210,64,206,60],[211,12,207,8,"medium"],[211,18,207,14],[211,20,207,16,"BASE_THRESHOLDS"],[211,35,207,31],[211,36,207,32,"pothole"],[211,43,207,39],[211,44,207,40,"medium"],[211,50,207,46],[211,53,207,49,"totalMultiplier"],[211,68,207,64],[212,12,208,8,"low"],[212,15,208,11],[212,17,208,13,"BASE_THRESHOLDS"],[212,32,208,28],[212,33,208,29,"pothole"],[212,40,208,36],[212,41,208,37,"low"],[212,44,208,40],[212,47,208,43,"totalMultiplier"],[213,10,209,6],[213,11,209,7],[214,10,210,6,"braking"],[214,17,210,13],[214,19,210,15],[215,12,211,8,"emergency"],[215,21,211,17],[215,23,211,19,"BASE_THRESHOLDS"],[215,38,211,34],[215,39,211,35,"braking"],[215,46,211,42],[215,47,211,43,"emergency"],[215,56,211,52],[215,59,211,55,"totalMultiplier"],[215,74,211,70],[216,12,212,8,"sharp"],[216,17,212,13],[216,19,212,15,"BASE_THRESHOLDS"],[216,34,212,30],[216,35,212,31,"braking"],[216,42,212,38],[216,43,212,39,"sharp"],[216,48,212,44],[216,51,212,47,"totalMultiplier"],[216,66,212,62],[217,12,213,8,"moderate"],[217,20,213,16],[217,22,213,18,"BASE_THRESHOLDS"],[217,37,213,33],[217,38,213,34,"braking"],[217,45,213,41],[217,46,213,42,"moderate"],[217,54,213,50],[217,57,213,53,"totalMultiplier"],[218,10,214,6],[218,11,214,7],[219,10,215,6,"lateral"],[219,17,215,13],[219,19,215,15],[220,12,216,8,"sharp"],[220,17,216,13],[220,19,216,15,"BASE_THRESHOLDS"],[220,34,216,30],[220,35,216,31,"lateral"],[220,42,216,38],[220,43,216,39,"sharp"],[220,48,216,44],[220,51,216,47,"totalMultiplier"],[220,66,216,62],[221,12,217,8,"moderate"],[221,20,217,16],[221,22,217,18,"BASE_THRESHOLDS"],[221,37,217,33],[221,38,217,34,"lateral"],[221,45,217,41],[221,46,217,42,"moderate"],[221,54,217,50],[221,57,217,53,"totalMultiplier"],[222,10,218,6],[222,11,218,7],[223,10,219,6,"magnitude"],[223,19,219,15],[223,21,219,17],[224,12,220,8,"critical"],[224,20,220,16],[224,22,220,18,"BASE_THRESHOLDS"],[224,37,220,33],[224,38,220,34,"magnitude"],[224,47,220,43],[224,48,220,44,"critical"],[224,56,220,52],[224,59,220,55,"totalMultiplier"],[224,74,220,70],[225,12,221,8,"high"],[225,16,221,12],[225,18,221,14,"BASE_THRESHOLDS"],[225,33,221,29],[225,34,221,30,"magnitude"],[225,43,221,39],[225,44,221,40,"high"],[225,48,221,44],[225,51,221,47,"totalMultiplier"],[225,66,221,62],[226,12,222,8,"medium"],[226,18,222,14],[226,20,222,16,"BASE_THRESHOLDS"],[226,35,222,31],[226,36,222,32,"magnitude"],[226,45,222,41],[226,46,222,42,"medium"],[226,52,222,48],[226,55,222,51,"totalMultiplier"],[227,10,223,6],[228,8,224,4],[228,9,224,5],[229,6,225,2],[231,6,227,2],[232,0,228,0],[233,0,229,0],[234,4,227,2],[235,6,227,2,"key"],[235,9,227,2],[236,6,227,2,"value"],[236,11,227,2],[236,13,230,2],[236,22,230,10,"classifyEvent"],[236,35,230,23,"classifyEvent"],[236,36,230,24,"params"],[236,42,237,3],[236,44,237,27],[237,8,238,4],[237,12,238,12,"deltaX"],[237,18,238,18],[237,21,238,68,"params"],[237,27,238,74],[237,28,238,12,"deltaX"],[237,34,238,18],[238,10,238,20,"deltaY"],[238,16,238,26],[238,19,238,68,"params"],[238,25,238,74],[238,26,238,20,"deltaY"],[238,32,238,26],[239,10,238,28,"deltaZ"],[239,16,238,34],[239,19,238,68,"params"],[239,25,238,74],[239,26,238,28,"deltaZ"],[239,32,238,34],[240,10,238,36,"magnitude"],[240,19,238,45],[240,22,238,68,"params"],[240,28,238,74],[240,29,238,36,"magnitude"],[240,38,238,45],[241,10,238,47,"thresholds"],[241,20,238,57],[241,23,238,68,"params"],[241,29,238,74],[241,30,238,47,"thresholds"],[241,40,238,57],[242,10,238,59,"data"],[242,14,238,63],[242,17,238,68,"params"],[242,23,238,74],[242,24,238,59,"data"],[242,28,238,63],[243,8,240,4],[243,12,240,8,"eventType"],[243,21,240,28],[243,24,240,31],[243,32,240,39],[244,8,241,4],[244,12,241,8,"severity"],[244,20,241,31],[244,23,241,34],[244,24,241,35],[245,8,242,4],[245,12,242,8,"shouldNotifyUser"],[245,28,242,24],[245,31,242,27],[245,36,242,32],[246,8,243,4],[246,12,243,8,"shouldSendImmediately"],[246,33,243,29],[246,36,243,32],[246,41,243,37],[248,8,245,4],[249,8,246,4],[249,12,246,8,"magnitude"],[249,21,246,17],[249,25,246,21,"thresholds"],[249,35,246,31],[249,36,246,32,"magnitude"],[249,45,246,41],[249,46,246,42,"critical"],[249,54,246,50],[249,56,246,52],[250,10,247,6,"eventType"],[250,19,247,15],[250,22,247,18],[250,31,247,27],[251,10,248,6,"severity"],[251,18,248,14],[251,21,248,17],[251,22,248,18],[252,10,249,6,"shouldNotifyUser"],[252,26,249,22],[252,29,249,25],[252,33,249,29],[253,10,250,6,"shouldSendImmediately"],[253,31,250,27],[253,34,250,30],[253,38,250,34],[254,8,251,4],[255,8,252,4],[256,8,252,4],[256,13,253,9],[256,17,253,13,"deltaY"],[256,23,253,19],[256,27,253,23,"thresholds"],[256,37,253,33],[256,38,253,34,"pothole"],[256,45,253,41],[256,46,253,42,"critical"],[256,54,253,50],[256,56,253,52],[257,10,254,6,"eventType"],[257,19,254,15],[257,22,254,18],[257,31,254,27],[258,10,255,6,"severity"],[258,18,255,14],[258,21,255,17],[258,22,255,18],[259,10,256,6,"shouldNotifyUser"],[259,26,256,22],[259,29,256,25],[259,33,256,29],[260,10,257,6,"shouldSendImmediately"],[260,31,257,27],[260,34,257,30],[260,38,257,34],[261,8,258,4],[261,9,258,5],[261,15,259,9],[261,19,259,13,"deltaY"],[261,25,259,19],[261,29,259,23,"thresholds"],[261,39,259,33],[261,40,259,34,"pothole"],[261,47,259,41],[261,48,259,42,"high"],[261,52,259,46],[261,54,259,48],[262,10,260,6,"eventType"],[262,19,260,15],[262,22,260,18],[262,31,260,27],[263,10,261,6,"severity"],[263,18,261,14],[263,21,261,17],[263,22,261,18],[264,10,262,6,"shouldNotifyUser"],[264,26,262,22],[264,29,262,25],[264,33,262,29],[265,10,263,6,"shouldSendImmediately"],[265,31,263,27],[265,34,263,30],[265,39,263,35],[266,8,264,4],[266,9,264,5],[266,15,265,9],[266,19,265,13,"deltaY"],[266,25,265,19],[266,29,265,23,"thresholds"],[266,39,265,33],[266,40,265,34,"pothole"],[266,47,265,41],[266,48,265,42,"medium"],[266,54,265,48],[266,56,265,50],[267,10,266,6,"eventType"],[267,19,266,15],[267,22,266,18],[267,28,266,24],[268,10,267,6,"severity"],[268,18,267,14],[268,21,267,17],[268,22,267,18],[269,8,268,4],[269,9,268,5],[269,15,269,9],[269,19,269,13,"deltaY"],[269,25,269,19],[269,29,269,23,"thresholds"],[269,39,269,33],[269,40,269,34,"pothole"],[269,47,269,41],[269,48,269,42,"low"],[269,51,269,45],[269,53,269,47],[270,10,270,6,"eventType"],[270,19,270,15],[270,22,270,18],[270,33,270,29],[271,10,271,6,"severity"],[271,18,271,14],[271,21,271,17],[271,22,271,18],[272,8,272,4],[273,8,273,4],[274,8,273,4],[274,13,274,9],[274,17,274,13,"deltaZ"],[274,23,274,19],[274,27,274,23,"thresholds"],[274,37,274,33],[274,38,274,34,"braking"],[274,45,274,41],[274,46,274,42,"emergency"],[274,55,274,51],[274,57,274,53],[275,10,275,6,"eventType"],[275,19,275,15],[275,22,275,18],[275,31,275,27],[276,10,276,6,"severity"],[276,18,276,14],[276,21,276,17],[276,22,276,18],[277,10,277,6,"shouldNotifyUser"],[277,26,277,22],[277,29,277,25],[277,33,277,29],[278,10,278,6,"shouldSendImmediately"],[278,31,278,27],[278,34,278,30],[278,38,278,34],[279,8,279,4],[279,9,279,5],[279,15,280,9],[279,19,280,13,"deltaZ"],[279,25,280,19],[279,29,280,23,"thresholds"],[279,39,280,33],[279,40,280,34,"braking"],[279,47,280,41],[279,48,280,42,"sharp"],[279,53,280,47],[279,55,280,49],[280,10,281,6,"eventType"],[280,19,281,15],[280,22,281,18],[280,31,281,27],[281,10,282,6,"severity"],[281,18,282,14],[281,21,282,17],[281,22,282,18],[282,8,283,4],[282,9,283,5],[282,15,284,9],[282,19,284,13,"deltaZ"],[282,25,284,19],[282,29,284,23,"thresholds"],[282,39,284,33],[282,40,284,34,"braking"],[282,47,284,41],[282,48,284,42,"moderate"],[282,56,284,50],[282,58,284,52],[283,10,285,6,"eventType"],[283,19,285,15],[283,22,285,18],[283,31,285,27],[284,10,286,6,"severity"],[284,18,286,14],[284,21,286,17],[284,22,286,18],[285,8,287,4],[286,8,288,4],[287,8,288,4],[287,13,289,9],[287,17,289,13,"deltaX"],[287,23,289,19],[287,27,289,23,"thresholds"],[287,37,289,33],[287,38,289,34,"lateral"],[287,45,289,41],[287,46,289,42,"sharp"],[287,51,289,47],[287,53,289,49],[288,10,290,6,"eventType"],[288,19,290,15],[288,22,290,18],[288,33,290,29],[289,10,291,6,"severity"],[289,18,291,14],[289,21,291,17],[289,22,291,18],[290,8,292,4],[290,9,292,5],[290,15,293,9],[290,19,293,13,"deltaX"],[290,25,293,19],[290,29,293,23,"thresholds"],[290,39,293,33],[290,40,293,34,"lateral"],[290,47,293,41],[290,48,293,42,"moderate"],[290,56,293,50],[290,58,293,52],[291,10,294,6,"eventType"],[291,19,294,15],[291,22,294,18],[291,33,294,29],[292,10,295,6,"severity"],[292,18,295,14],[292,21,295,17],[292,22,295,18],[293,8,296,4],[295,8,298,4],[296,8,299,4],[296,12,299,8,"eventType"],[296,21,299,17],[296,26,299,22],[296,34,299,30],[296,38,299,34,"magnitude"],[296,47,299,43],[296,50,299,46],[296,53,299,49],[296,55,299,51],[297,10,300,6],[297,17,300,13],[297,21,300,17],[298,8,301,4],[299,8,303,4],[299,15,303,11],[300,10,304,6,"eventType"],[300,19,304,15],[301,10,305,6,"severity"],[301,18,305,14],[302,10,306,6,"timestamp"],[302,19,306,15],[302,21,306,17,"data"],[302,25,306,21],[302,26,306,22,"timestamp"],[302,35,306,31],[303,10,307,6,"accelerometer"],[303,23,307,19],[303,25,307,21],[304,12,308,8,"x"],[304,13,308,9],[304,15,308,11,"data"],[304,19,308,15],[304,20,308,16,"x"],[304,21,308,17],[305,12,309,8,"y"],[305,13,309,9],[305,15,309,11,"data"],[305,19,309,15],[305,20,309,16,"y"],[305,21,309,17],[306,12,310,8,"z"],[306,13,310,9],[306,15,310,11,"data"],[306,19,310,15],[306,20,310,16,"z"],[306,21,310,17],[307,12,311,8,"magnitude"],[307,21,311,17],[308,12,312,8,"deltaY"],[308,18,312,14],[309,12,313,8,"deltaZ"],[310,10,314,6],[310,11,314,7],[311,10,315,6,"roadType"],[311,18,315,14],[311,20,315,16],[311,24,315,20],[311,25,315,21,"detectedRoadType"],[311,41,315,37],[312,10,316,6,"shouldNotifyUser"],[312,26,316,22],[313,10,317,6,"shouldSendImmediately"],[314,8,318,4],[314,9,318,5],[315,6,319,2],[317,6,321,2],[318,0,322,0],[319,0,323,0],[320,4,321,2],[321,6,321,2,"key"],[321,9,321,2],[322,6,321,2,"value"],[322,11,321,2],[322,13,324,2],[322,22,324,2,"getRoadType"],[322,33,324,13,"getRoadType"],[322,34,324,13],[322,36,324,26],[323,8,325,4],[323,15,325,11],[323,19,325,15],[323,20,325,16,"detectedRoadType"],[323,36,325,32],[324,6,326,2],[326,6,328,2],[327,0,329,0],[328,0,330,0],[329,4,328,2],[330,6,328,2,"key"],[330,9,328,2],[331,6,328,2,"value"],[331,11,328,2],[331,13,331,2],[331,22,331,2,"reset"],[331,27,331,7,"reset"],[331,28,331,7],[331,30,331,10],[332,8,332,4],[332,12,332,8],[332,13,332,9,"previousData"],[332,25,332,21],[332,28,332,24],[332,32,332,28],[333,8,333,4],[333,12,333,8],[333,13,333,9,"roadTypeHistory"],[333,28,333,24],[333,31,333,27],[333,33,333,29],[334,8,334,4],[334,12,334,8],[334,13,334,9,"detectedRoadType"],[334,29,334,25],[334,32,334,28],[334,41,334,37],[335,6,335,2],[336,4,335,3],[337,2,335,3],[338,2,338,0],[338,6,338,0,"_default"],[338,14,338,0],[338,17,338,15,"EventDetector"],[338,30,338,28],[339,0,338,29],[339,3]],"functionMap":{"names":["<global>","EventDetector","constructor","setCalibration","processAccelerometerData","updateRoadTypeHistory","detectRoadType","roadTypeHistory.reduce$argument_0","getAdaptiveThresholds","classifyEvent","getRoadType","reset"],"mappings":"AAA;ACiG;ECM;GDE;EEK;GFE;EGK;GHoC;EIK;GJO;EKK;qDCM,uBD;GLU;EOK;GPiC;EQK;GRyF;ESK;GTE;EUK;GVI;CDC"},"hasCjsExports":false},"type":"js/module"}]}