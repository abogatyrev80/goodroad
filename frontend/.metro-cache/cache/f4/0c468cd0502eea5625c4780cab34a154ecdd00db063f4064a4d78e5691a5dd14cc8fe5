{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  /**\n   * EventDetector.ts\n   * \n   * Умная система детекции дорожных событий на основе данных акселерометра\n   * - Классификация событий (яма, торможение, вибрация)\n   * - Определение типа дороги (асфальт, грунт, гравий)\n   * - Адаптивные пороги на основе типа дороги и автомобиля\n   */\n\n  /**\n   * Типы событий\n   */\n\n  // Тестовая синхронизация\n  // 1=критичный, 5=нормальный\n\n  /**\n   * Пороговые значения для детекции событий\n   * Научно обоснованные на основе исследований качества дорог\n   */\n  const BASE_THRESHOLDS = {\n    // Вертикальная ось (Y) - основная для дорог\n    pothole: {\n      critical: 4.5,\n      // > 4.5 m/s² - критичная яма\n      high: 3.0,\n      // 3.0-4.5 m/s² - яма\n      medium: 2.0,\n      // 2.0-3.0 m/s² - неровность\n      low: 1.5 // 1.5-2.0 m/s² - мелкий дефект\n    },\n    // Продольная ось (Z) - торможение/разгон\n    braking: {\n      emergency: 3.0,\n      // > 3.0 m/s² - экстренное торможение\n      sharp: 2.5,\n      // 2.5-3.0 m/s² - резкое торможение\n      moderate: 1.5 // 1.5-2.5 m/s² - умеренное торможение\n    },\n    // Поперечная ось (X) - боковые качания\n    lateral: {\n      sharp: 2.5,\n      // > 2.5 m/s² - резкий маневр\n      moderate: 1.5 // 1.5-2.5 m/s² - умеренное качание\n    },\n    // Общая magnitude для комбинированных событий\n    magnitude: {\n      critical: 5.0,\n      // Критичное событие\n      high: 4.0,\n      // Высокая интенсивность\n      medium: 3.0 // Средняя интенсивность\n    }\n  };\n\n  /**\n   * Множители для разных типов дорог\n   */\n  const ROAD_TYPE_MULTIPLIERS = {\n    asphalt: 1.0,\n    // Стандартные пороги\n    gravel: 1.5,\n    // Гравий - больше допустимая вибрация\n    dirt: 1.8,\n    // Грунт - ещё больше вибрации\n    unknown: 1.2 // Неизвестно - осторожный подход\n  };\n\n  /**\n   * Множители для разных типов автомобилей\n   */\n  const VEHICLE_TYPE_MULTIPLIERS = {\n    sedan: 1.0,\n    // Легковой - мягкая подвеска, чувствительнее\n    crossover: 0.9,\n    // Кроссовер - средняя подвеска\n    suv: 0.8 // Внедорожник - жёсткая подвеска, менее чувствителен\n  };\n  class EventDetector {\n    previousData = null;\n    calibration = null;\n    detectedRoadType = 'unknown';\n    roadTypeHistory = []; // История вибраций для определения типа дороги\n\n    constructor(calibration) {\n      this.calibration = calibration || null;\n    }\n\n    /**\n     * Установить калибровочный профиль\n     */\n    setCalibration(calibration) {\n      this.calibration = calibration;\n    }\n\n    /**\n     * Основной метод обработки данных акселерометра\n     */\n    processAccelerometerData(data) {\n      // Первое чтение - сохраняем и выходим\n      if (!this.previousData) {\n        this.previousData = data;\n        return null;\n      }\n\n      // Вычисляем изменения (delta)\n      const deltaX = Math.abs(data.x - this.previousData.x);\n      const deltaY = Math.abs(data.y - this.previousData.y);\n      const deltaZ = Math.abs(data.z - this.previousData.z);\n\n      // Общая magnitude изменения\n      const magnitude = Math.sqrt(deltaX ** 2 + deltaY ** 2 + deltaZ ** 2);\n\n      // Обновляем историю для определения типа дороги\n      this.updateRoadTypeHistory(magnitude);\n      this.detectRoadType();\n\n      // Получаем адаптивные пороги\n      const thresholds = this.getAdaptiveThresholds();\n\n      // Классифицируем событие\n      const event = this.classifyEvent({\n        deltaX,\n        deltaY,\n        deltaZ,\n        magnitude,\n        thresholds,\n        data\n      });\n\n      // Обновляем предыдущие данные\n      this.previousData = data;\n      return event;\n    }\n\n    /**\n     * Обновить историю вибраций для определения типа дороги\n     */\n    updateRoadTypeHistory(magnitude) {\n      this.roadTypeHistory.push(magnitude);\n\n      // Храним только последние 100 измерений (примерно 2 секунды при 50Hz)\n      if (this.roadTypeHistory.length > 100) {\n        this.roadTypeHistory.shift();\n      }\n    }\n\n    /**\n     * Вычислить variance для последних N измерений (НОВОЕ - для ML)\n     * Variance показывает изменчивость accelerometer данных\n     */\n    calculateVariance(windowSize = 20) {\n      if (this.roadTypeHistory.length < windowSize) {\n        return 0;\n      }\n\n      // Берём последние windowSize измерений\n      const recentData = this.roadTypeHistory.slice(-windowSize);\n\n      // Средне значение\n      const mean = recentData.reduce((sum, val) => sum + val, 0) / recentData.length;\n\n      // Variance = среднее квадратов отклонений от среднего\n      const variance = recentData.reduce((sum, val) => {\n        const diff = val - mean;\n        return sum + diff * diff;\n      }, 0) / recentData.length;\n      return variance;\n    }\n\n    /**\n     * Автоматическое определение типа дороги\n     */\n    detectRoadType() {\n      if (this.roadTypeHistory.length < 50) {\n        return; // Недостаточно данных\n      }\n\n      // Вычисляем среднюю базовую вибрацию\n      const avgVibration = this.roadTypeHistory.reduce((sum, val) => sum + val, 0) / this.roadTypeHistory.length;\n\n      // Классификация на основе средней вибрации\n      if (avgVibration < 0.5) {\n        this.detectedRoadType = 'asphalt'; // Низкая вибрация = асфальт\n      } else if (avgVibration < 1.0) {\n        this.detectedRoadType = 'gravel'; // Средняя вибрация = гравий\n      } else {\n        this.detectedRoadType = 'dirt'; // Высокая вибрация = грунт\n      }\n    }\n\n    /**\n     * Получить адаптивные пороги с учётом типа дороги и автомобиля\n     */\n    getAdaptiveThresholds() {\n      const roadMultiplier = ROAD_TYPE_MULTIPLIERS[this.detectedRoadType];\n      const vehicleMultiplier = this.calibration ? VEHICLE_TYPE_MULTIPLIERS[this.calibration.vehicleType] : 1.0;\n      const calibrationMultiplier = this.calibration?.thresholdMultiplier || 1.0;\n      const totalMultiplier = roadMultiplier * vehicleMultiplier * calibrationMultiplier;\n\n      // Применяем множитель ко всем порогам\n      return {\n        pothole: {\n          critical: BASE_THRESHOLDS.pothole.critical * totalMultiplier,\n          high: BASE_THRESHOLDS.pothole.high * totalMultiplier,\n          medium: BASE_THRESHOLDS.pothole.medium * totalMultiplier,\n          low: BASE_THRESHOLDS.pothole.low * totalMultiplier\n        },\n        braking: {\n          emergency: BASE_THRESHOLDS.braking.emergency * totalMultiplier,\n          sharp: BASE_THRESHOLDS.braking.sharp * totalMultiplier,\n          moderate: BASE_THRESHOLDS.braking.moderate * totalMultiplier\n        },\n        lateral: {\n          sharp: BASE_THRESHOLDS.lateral.sharp * totalMultiplier,\n          moderate: BASE_THRESHOLDS.lateral.moderate * totalMultiplier\n        },\n        magnitude: {\n          critical: BASE_THRESHOLDS.magnitude.critical * totalMultiplier,\n          high: BASE_THRESHOLDS.magnitude.high * totalMultiplier,\n          medium: BASE_THRESHOLDS.magnitude.medium * totalMultiplier\n        }\n      };\n    }\n\n    /**\n     * Классификация события на основе данных акселерометра\n     */\n    classifyEvent(params) {\n      const {\n        deltaX,\n        deltaY,\n        deltaZ,\n        magnitude,\n        thresholds,\n        data\n      } = params;\n      let eventType = 'normal';\n      let severity = 5;\n      let shouldNotifyUser = false;\n      let shouldSendImmediately = false;\n\n      // Проверка критичных событий (приоритет 1)\n      if (magnitude >= thresholds.magnitude.critical) {\n        eventType = 'pothole';\n        severity = 1;\n        shouldNotifyUser = true;\n        shouldSendImmediately = true;\n      }\n      // Проверка ям и неровностей (вертикальная ось Y)\n      else if (deltaY >= thresholds.pothole.critical) {\n        eventType = 'pothole';\n        severity = 1;\n        shouldNotifyUser = true;\n        shouldSendImmediately = true;\n      } else if (deltaY >= thresholds.pothole.high) {\n        eventType = 'pothole';\n        severity = 2;\n        shouldNotifyUser = true;\n        shouldSendImmediately = false;\n      } else if (deltaY >= thresholds.pothole.medium) {\n        eventType = 'bump';\n        severity = 3;\n      } else if (deltaY >= thresholds.pothole.low) {\n        eventType = 'vibration';\n        severity = 4;\n      }\n      // Проверка торможения (продольная ось Z)\n      else if (deltaZ >= thresholds.braking.emergency) {\n        eventType = 'braking';\n        severity = 1;\n        shouldNotifyUser = true;\n        shouldSendImmediately = true;\n      } else if (deltaZ >= thresholds.braking.sharp) {\n        eventType = 'braking';\n        severity = 2;\n      } else if (deltaZ >= thresholds.braking.moderate) {\n        eventType = 'braking';\n        severity = 3;\n      }\n      // Проверка боковых качаний (поперечная ось X)\n      else if (deltaX >= thresholds.lateral.sharp) {\n        eventType = 'vibration';\n        severity = 2;\n      } else if (deltaX >= thresholds.lateral.moderate) {\n        eventType = 'vibration';\n        severity = 3;\n      }\n\n      // Если нет значимых событий - возвращаем null\n      if (eventType === 'normal' && magnitude < 1.0) {\n        return null;\n      }\n\n      // Вычислить variance для ML (НОВОЕ)\n      const variance = this.calculateVariance(20);\n      return {\n        eventType,\n        severity,\n        timestamp: data.timestamp,\n        accelerometer: {\n          x: data.x,\n          y: data.y,\n          z: data.z,\n          magnitude,\n          deltaY,\n          deltaZ,\n          deltaX,\n          // НОВОЕ\n          variance // НОВОЕ - для ML анализа\n        },\n        roadType: this.detectedRoadType,\n        shouldNotifyUser,\n        shouldSendImmediately\n      };\n    }\n\n    /**\n     * Получить текущий тип дороги\n     */\n    getRoadType() {\n      return this.detectedRoadType;\n    }\n\n    /**\n     * Сбросить историю (например, при смене маршрута)\n     */\n    reset() {\n      this.previousData = null;\n      this.roadTypeHistory = [];\n      this.detectedRoadType = 'unknown';\n    }\n  }\n  var _default = EventDetector;\n});","lineCount":347,"map":[[7,2,381,0,"Object"],[7,8,381,0],[7,9,381,0,"defineProperty"],[7,23,381,0],[7,24,381,0,"exports"],[7,31,381,0],[8,4,381,0,"enumerable"],[8,14,381,0],[9,4,381,0,"get"],[9,7,381,0],[9,18,381,0,"get"],[9,19,381,0],[10,6,381,0],[10,13,381,0,"_default"],[10,21,381,0],[11,4,381,0],[12,2,381,0],[13,2,1,0],[14,0,2,0],[15,0,3,0],[16,0,4,0],[17,0,5,0],[18,0,6,0],[19,0,7,0],[20,0,8,0],[22,2,12,0],[23,0,13,0],[24,0,14,0],[26,2,22,18],[27,2,23,47],[29,2,59,0],[30,0,60,0],[31,0,61,0],[32,0,62,0],[33,2,63,0],[33,8,63,6,"BASE_THRESHOLDS"],[33,23,63,21],[33,26,63,24],[34,4,64,2],[35,4,65,2,"pothole"],[35,11,65,9],[35,13,65,11],[36,6,66,4,"critical"],[36,14,66,12],[36,16,66,14],[36,19,66,17],[37,6,66,21],[38,6,67,4,"high"],[38,10,67,8],[38,12,67,10],[38,15,67,13],[39,6,67,21],[40,6,68,4,"medium"],[40,12,68,10],[40,14,68,12],[40,17,68,15],[41,6,68,21],[42,6,69,4,"low"],[42,9,69,7],[42,11,69,9],[42,14,69,12],[42,15,69,21],[43,4,70,2],[43,5,70,3],[44,4,72,2],[45,4,73,2,"braking"],[45,11,73,9],[45,13,73,11],[46,6,74,4,"emergency"],[46,15,74,13],[46,17,74,15],[46,20,74,18],[47,6,74,21],[48,6,75,4,"sharp"],[48,11,75,9],[48,13,75,11],[48,16,75,14],[49,6,75,21],[50,6,76,4,"moderate"],[50,14,76,12],[50,16,76,14],[50,19,76,17],[50,20,76,21],[51,4,77,2],[51,5,77,3],[52,4,79,2],[53,4,80,2,"lateral"],[53,11,80,9],[53,13,80,11],[54,6,81,4,"sharp"],[54,11,81,9],[54,13,81,11],[54,16,81,14],[55,6,81,21],[56,6,82,4,"moderate"],[56,14,82,12],[56,16,82,14],[56,19,82,17],[56,20,82,21],[57,4,83,2],[57,5,83,3],[58,4,85,2],[59,4,86,2,"magnitude"],[59,13,86,11],[59,15,86,13],[60,6,87,4,"critical"],[60,14,87,12],[60,16,87,14],[60,19,87,17],[61,6,87,21],[62,6,88,4,"high"],[62,10,88,8],[62,12,88,10],[62,15,88,13],[63,6,88,21],[64,6,89,4,"medium"],[64,12,89,10],[64,14,89,12],[64,17,89,15],[64,18,89,21],[65,4,90,2],[66,2,91,0],[66,3,91,1],[68,2,93,0],[69,0,94,0],[70,0,95,0],[71,2,96,0],[71,8,96,6,"ROAD_TYPE_MULTIPLIERS"],[71,29,96,53],[71,32,96,56],[72,4,97,2,"asphalt"],[72,11,97,9],[72,13,97,11],[72,16,97,14],[73,4,97,19],[74,4,98,2,"gravel"],[74,10,98,8],[74,12,98,10],[74,15,98,13],[75,4,98,19],[76,4,99,2,"dirt"],[76,8,99,6],[76,10,99,8],[76,13,99,11],[77,4,99,19],[78,4,100,2,"unknown"],[78,11,100,9],[78,13,100,11],[78,16,100,14],[78,17,100,19],[79,2,101,0],[79,3,101,1],[81,2,103,0],[82,0,104,0],[83,0,105,0],[84,2,106,0],[84,8,106,6,"VEHICLE_TYPE_MULTIPLIERS"],[84,32,106,59],[84,35,106,62],[85,4,107,2,"sedan"],[85,9,107,7],[85,11,107,9],[85,14,107,12],[86,4,107,19],[87,4,108,2,"crossover"],[87,13,108,11],[87,15,108,13],[87,18,108,16],[88,4,108,19],[89,4,109,2,"suv"],[89,7,109,5],[89,9,109,7],[89,12,109,10],[89,13,109,19],[90,2,110,0],[90,3,110,1],[91,2,112,0],[91,8,112,6,"EventDetector"],[91,21,112,19],[91,22,112,20],[92,4,113,10,"previousData"],[92,16,113,22],[92,19,113,51],[92,23,113,55],[93,4,114,10,"calibration"],[93,15,114,21],[93,18,114,51],[93,22,114,55],[94,4,115,10,"detectedRoadType"],[94,20,115,26],[94,23,115,39],[94,32,115,48],[95,4,116,10,"roadTypeHistory"],[95,19,116,25],[95,22,116,38],[95,24,116,40],[95,25,116,41],[95,26,116,42],[97,4,118,2,"constructor"],[97,15,118,13,"constructor"],[97,16,118,14,"calibration"],[97,27,118,46],[97,29,118,48],[98,6,119,4],[98,10,119,8],[98,11,119,9,"calibration"],[98,22,119,20],[98,25,119,23,"calibration"],[98,36,119,34],[98,40,119,38],[98,44,119,42],[99,4,120,2],[101,4,122,2],[102,0,123,0],[103,0,124,0],[104,4,125,2,"setCalibration"],[104,18,125,16,"setCalibration"],[104,19,125,17,"calibration"],[104,30,125,48],[104,32,125,50],[105,6,126,4],[105,10,126,8],[105,11,126,9,"calibration"],[105,22,126,20],[105,25,126,23,"calibration"],[105,36,126,34],[106,4,127,2],[108,4,129,2],[109,0,130,0],[110,0,131,0],[111,4,132,2,"processAccelerometerData"],[111,28,132,26,"processAccelerometerData"],[111,29,132,27,"data"],[111,33,132,50],[111,35,132,74],[112,6,133,4],[113,6,134,4],[113,10,134,8],[113,11,134,9],[113,15,134,13],[113,16,134,14,"previousData"],[113,28,134,26],[113,30,134,28],[114,8,135,6],[114,12,135,10],[114,13,135,11,"previousData"],[114,25,135,23],[114,28,135,26,"data"],[114,32,135,30],[115,8,136,6],[115,15,136,13],[115,19,136,17],[116,6,137,4],[118,6,139,4],[119,6,140,4],[119,12,140,10,"deltaX"],[119,18,140,16],[119,21,140,19,"Math"],[119,25,140,23],[119,26,140,24,"abs"],[119,29,140,27],[119,30,140,28,"data"],[119,34,140,32],[119,35,140,33,"x"],[119,36,140,34],[119,39,140,37],[119,43,140,41],[119,44,140,42,"previousData"],[119,56,140,54],[119,57,140,55,"x"],[119,58,140,56],[119,59,140,57],[120,6,141,4],[120,12,141,10,"deltaY"],[120,18,141,16],[120,21,141,19,"Math"],[120,25,141,23],[120,26,141,24,"abs"],[120,29,141,27],[120,30,141,28,"data"],[120,34,141,32],[120,35,141,33,"y"],[120,36,141,34],[120,39,141,37],[120,43,141,41],[120,44,141,42,"previousData"],[120,56,141,54],[120,57,141,55,"y"],[120,58,141,56],[120,59,141,57],[121,6,142,4],[121,12,142,10,"deltaZ"],[121,18,142,16],[121,21,142,19,"Math"],[121,25,142,23],[121,26,142,24,"abs"],[121,29,142,27],[121,30,142,28,"data"],[121,34,142,32],[121,35,142,33,"z"],[121,36,142,34],[121,39,142,37],[121,43,142,41],[121,44,142,42,"previousData"],[121,56,142,54],[121,57,142,55,"z"],[121,58,142,56],[121,59,142,57],[123,6,144,4],[124,6,145,4],[124,12,145,10,"magnitude"],[124,21,145,19],[124,24,145,22,"Math"],[124,28,145,26],[124,29,145,27,"sqrt"],[124,33,145,31],[124,34,145,32,"deltaX"],[124,40,145,38],[124,44,145,42],[124,45,145,43],[124,48,145,46,"deltaY"],[124,54,145,52],[124,58,145,56],[124,59,145,57],[124,62,145,60,"deltaZ"],[124,68,145,66],[124,72,145,70],[124,73,145,71],[124,74,145,72],[126,6,147,4],[127,6,148,4],[127,10,148,8],[127,11,148,9,"updateRoadTypeHistory"],[127,32,148,30],[127,33,148,31,"magnitude"],[127,42,148,40],[127,43,148,41],[128,6,149,4],[128,10,149,8],[128,11,149,9,"detectRoadType"],[128,25,149,23],[128,26,149,24],[128,27,149,25],[130,6,151,4],[131,6,152,4],[131,12,152,10,"thresholds"],[131,22,152,20],[131,25,152,23],[131,29,152,27],[131,30,152,28,"getAdaptiveThresholds"],[131,51,152,49],[131,52,152,50],[131,53,152,51],[133,6,154,4],[134,6,155,4],[134,12,155,10,"event"],[134,17,155,15],[134,20,155,18],[134,24,155,22],[134,25,155,23,"classifyEvent"],[134,38,155,36],[134,39,155,37],[135,8,156,6,"deltaX"],[135,14,156,12],[136,8,157,6,"deltaY"],[136,14,157,12],[137,8,158,6,"deltaZ"],[137,14,158,12],[138,8,159,6,"magnitude"],[138,17,159,15],[139,8,160,6,"thresholds"],[139,18,160,16],[140,8,161,6,"data"],[141,6,162,4],[141,7,162,5],[141,8,162,6],[143,6,164,4],[144,6,165,4],[144,10,165,8],[144,11,165,9,"previousData"],[144,23,165,21],[144,26,165,24,"data"],[144,30,165,28],[145,6,167,4],[145,13,167,11,"event"],[145,18,167,16],[146,4,168,2],[148,4,170,2],[149,0,171,0],[150,0,172,0],[151,4,173,10,"updateRoadTypeHistory"],[151,25,173,31,"updateRoadTypeHistory"],[151,26,173,32,"magnitude"],[151,35,173,49],[151,37,173,51],[152,6,174,4],[152,10,174,8],[152,11,174,9,"roadTypeHistory"],[152,26,174,24],[152,27,174,25,"push"],[152,31,174,29],[152,32,174,30,"magnitude"],[152,41,174,39],[152,42,174,40],[154,6,176,4],[155,6,177,4],[155,10,177,8],[155,14,177,12],[155,15,177,13,"roadTypeHistory"],[155,30,177,28],[155,31,177,29,"length"],[155,37,177,35],[155,40,177,38],[155,43,177,41],[155,45,177,43],[156,8,178,6],[156,12,178,10],[156,13,178,11,"roadTypeHistory"],[156,28,178,26],[156,29,178,27,"shift"],[156,34,178,32],[156,35,178,33],[156,36,178,34],[157,6,179,4],[158,4,180,2],[160,4,182,2],[161,0,183,0],[162,0,184,0],[163,0,185,0],[164,4,186,10,"calculateVariance"],[164,21,186,27,"calculateVariance"],[164,22,186,28,"windowSize"],[164,32,186,46],[164,35,186,49],[164,37,186,51],[164,39,186,61],[165,6,187,4],[165,10,187,8],[165,14,187,12],[165,15,187,13,"roadTypeHistory"],[165,30,187,28],[165,31,187,29,"length"],[165,37,187,35],[165,40,187,38,"windowSize"],[165,50,187,48],[165,52,187,50],[166,8,188,6],[166,15,188,13],[166,16,188,14],[167,6,189,4],[169,6,191,4],[170,6,192,4],[170,12,192,10,"recentData"],[170,22,192,20],[170,25,192,23],[170,29,192,27],[170,30,192,28,"roadTypeHistory"],[170,45,192,43],[170,46,192,44,"slice"],[170,51,192,49],[170,52,192,50],[170,53,192,51,"windowSize"],[170,63,192,61],[170,64,192,62],[172,6,194,4],[173,6,195,4],[173,12,195,10,"mean"],[173,16,195,14],[173,19,195,17,"recentData"],[173,29,195,27],[173,30,195,28,"reduce"],[173,36,195,34],[173,37,195,35],[173,38,195,36,"sum"],[173,41,195,39],[173,43,195,41,"val"],[173,46,195,44],[173,51,195,49,"sum"],[173,54,195,52],[173,57,195,55,"val"],[173,60,195,58],[173,62,195,60],[173,63,195,61],[173,64,195,62],[173,67,195,65,"recentData"],[173,77,195,75],[173,78,195,76,"length"],[173,84,195,82],[175,6,197,4],[176,6,198,4],[176,12,198,10,"variance"],[176,20,198,18],[176,23,198,21,"recentData"],[176,33,198,31],[176,34,198,32,"reduce"],[176,40,198,38],[176,41,198,39],[176,42,198,40,"sum"],[176,45,198,43],[176,47,198,45,"val"],[176,50,198,48],[176,55,198,53],[177,8,199,6],[177,14,199,12,"diff"],[177,18,199,16],[177,21,199,19,"val"],[177,24,199,22],[177,27,199,25,"mean"],[177,31,199,29],[178,8,200,6],[178,15,200,13,"sum"],[178,18,200,16],[178,21,200,20,"diff"],[178,25,200,24],[178,28,200,27,"diff"],[178,32,200,32],[179,6,201,4],[179,7,201,5],[179,9,201,7],[179,10,201,8],[179,11,201,9],[179,14,201,12,"recentData"],[179,24,201,22],[179,25,201,23,"length"],[179,31,201,29],[180,6,203,4],[180,13,203,11,"variance"],[180,21,203,19],[181,4,204,2],[183,4,206,2],[184,0,207,0],[185,0,208,0],[186,4,209,10,"detectRoadType"],[186,18,209,24,"detectRoadType"],[186,19,209,24],[186,21,209,27],[187,6,210,4],[187,10,210,8],[187,14,210,12],[187,15,210,13,"roadTypeHistory"],[187,30,210,28],[187,31,210,29,"length"],[187,37,210,35],[187,40,210,38],[187,42,210,40],[187,44,210,42],[188,8,211,6],[188,15,211,13],[188,16,211,14],[189,6,212,4],[191,6,214,4],[192,6,215,4],[192,12,215,10,"avgVibration"],[192,24,215,22],[192,27,215,25],[192,31,215,29],[192,32,215,30,"roadTypeHistory"],[192,47,215,45],[192,48,215,46,"reduce"],[192,54,215,52],[192,55,215,53],[192,56,215,54,"sum"],[192,59,215,57],[192,61,215,59,"val"],[192,64,215,62],[192,69,215,67,"sum"],[192,72,215,70],[192,75,215,73,"val"],[192,78,215,76],[192,80,215,78],[192,81,215,79],[192,82,215,80],[192,85,215,83],[192,89,215,87],[192,90,215,88,"roadTypeHistory"],[192,105,215,103],[192,106,215,104,"length"],[192,112,215,110],[194,6,217,4],[195,6,218,4],[195,10,218,8,"avgVibration"],[195,22,218,20],[195,25,218,23],[195,28,218,26],[195,30,218,28],[196,8,219,6],[196,12,219,10],[196,13,219,11,"detectedRoadType"],[196,29,219,27],[196,32,219,30],[196,41,219,39],[196,42,219,40],[196,43,219,41],[197,6,220,4],[197,7,220,5],[197,13,220,11],[197,17,220,15,"avgVibration"],[197,29,220,27],[197,32,220,30],[197,35,220,33],[197,37,220,35],[198,8,221,6],[198,12,221,10],[198,13,221,11,"detectedRoadType"],[198,29,221,27],[198,32,221,30],[198,40,221,38],[198,41,221,39],[198,42,221,40],[199,6,222,4],[199,7,222,5],[199,13,222,11],[200,8,223,6],[200,12,223,10],[200,13,223,11,"detectedRoadType"],[200,29,223,27],[200,32,223,30],[200,38,223,36],[200,39,223,37],[200,40,223,38],[201,6,224,4],[202,4,225,2],[204,4,227,2],[205,0,228,0],[206,0,229,0],[207,4,230,10,"getAdaptiveThresholds"],[207,25,230,31,"getAdaptiveThresholds"],[207,26,230,31],[207,28,230,34],[208,6,231,4],[208,12,231,10,"roadMultiplier"],[208,26,231,24],[208,29,231,27,"ROAD_TYPE_MULTIPLIERS"],[208,50,231,48],[208,51,231,49],[208,55,231,53],[208,56,231,54,"detectedRoadType"],[208,72,231,70],[208,73,231,71],[209,6,232,4],[209,12,232,10,"vehicleMultiplier"],[209,29,232,27],[209,32,232,30],[209,36,232,34],[209,37,232,35,"calibration"],[209,48,232,46],[209,51,233,8,"VEHICLE_TYPE_MULTIPLIERS"],[209,75,233,32],[209,76,233,33],[209,80,233,37],[209,81,233,38,"calibration"],[209,92,233,49],[209,93,233,50,"vehicleType"],[209,104,233,61],[209,105,233,62],[209,108,234,8],[209,111,234,11],[210,6,236,4],[210,12,236,10,"calibrationMultiplier"],[210,33,236,31],[210,36,236,34],[210,40,236,38],[210,41,236,39,"calibration"],[210,52,236,50],[210,54,236,52,"thresholdMultiplier"],[210,73,236,71],[210,77,236,75],[210,80,236,78],[211,6,238,4],[211,12,238,10,"totalMultiplier"],[211,27,238,25],[211,30,238,28,"roadMultiplier"],[211,44,238,42],[211,47,238,45,"vehicleMultiplier"],[211,64,238,62],[211,67,238,65,"calibrationMultiplier"],[211,88,238,86],[213,6,240,4],[214,6,241,4],[214,13,241,11],[215,8,242,6,"pothole"],[215,15,242,13],[215,17,242,15],[216,10,243,8,"critical"],[216,18,243,16],[216,20,243,18,"BASE_THRESHOLDS"],[216,35,243,33],[216,36,243,34,"pothole"],[216,43,243,41],[216,44,243,42,"critical"],[216,52,243,50],[216,55,243,53,"totalMultiplier"],[216,70,243,68],[217,10,244,8,"high"],[217,14,244,12],[217,16,244,14,"BASE_THRESHOLDS"],[217,31,244,29],[217,32,244,30,"pothole"],[217,39,244,37],[217,40,244,38,"high"],[217,44,244,42],[217,47,244,45,"totalMultiplier"],[217,62,244,60],[218,10,245,8,"medium"],[218,16,245,14],[218,18,245,16,"BASE_THRESHOLDS"],[218,33,245,31],[218,34,245,32,"pothole"],[218,41,245,39],[218,42,245,40,"medium"],[218,48,245,46],[218,51,245,49,"totalMultiplier"],[218,66,245,64],[219,10,246,8,"low"],[219,13,246,11],[219,15,246,13,"BASE_THRESHOLDS"],[219,30,246,28],[219,31,246,29,"pothole"],[219,38,246,36],[219,39,246,37,"low"],[219,42,246,40],[219,45,246,43,"totalMultiplier"],[220,8,247,6],[220,9,247,7],[221,8,248,6,"braking"],[221,15,248,13],[221,17,248,15],[222,10,249,8,"emergency"],[222,19,249,17],[222,21,249,19,"BASE_THRESHOLDS"],[222,36,249,34],[222,37,249,35,"braking"],[222,44,249,42],[222,45,249,43,"emergency"],[222,54,249,52],[222,57,249,55,"totalMultiplier"],[222,72,249,70],[223,10,250,8,"sharp"],[223,15,250,13],[223,17,250,15,"BASE_THRESHOLDS"],[223,32,250,30],[223,33,250,31,"braking"],[223,40,250,38],[223,41,250,39,"sharp"],[223,46,250,44],[223,49,250,47,"totalMultiplier"],[223,64,250,62],[224,10,251,8,"moderate"],[224,18,251,16],[224,20,251,18,"BASE_THRESHOLDS"],[224,35,251,33],[224,36,251,34,"braking"],[224,43,251,41],[224,44,251,42,"moderate"],[224,52,251,50],[224,55,251,53,"totalMultiplier"],[225,8,252,6],[225,9,252,7],[226,8,253,6,"lateral"],[226,15,253,13],[226,17,253,15],[227,10,254,8,"sharp"],[227,15,254,13],[227,17,254,15,"BASE_THRESHOLDS"],[227,32,254,30],[227,33,254,31,"lateral"],[227,40,254,38],[227,41,254,39,"sharp"],[227,46,254,44],[227,49,254,47,"totalMultiplier"],[227,64,254,62],[228,10,255,8,"moderate"],[228,18,255,16],[228,20,255,18,"BASE_THRESHOLDS"],[228,35,255,33],[228,36,255,34,"lateral"],[228,43,255,41],[228,44,255,42,"moderate"],[228,52,255,50],[228,55,255,53,"totalMultiplier"],[229,8,256,6],[229,9,256,7],[230,8,257,6,"magnitude"],[230,17,257,15],[230,19,257,17],[231,10,258,8,"critical"],[231,18,258,16],[231,20,258,18,"BASE_THRESHOLDS"],[231,35,258,33],[231,36,258,34,"magnitude"],[231,45,258,43],[231,46,258,44,"critical"],[231,54,258,52],[231,57,258,55,"totalMultiplier"],[231,72,258,70],[232,10,259,8,"high"],[232,14,259,12],[232,16,259,14,"BASE_THRESHOLDS"],[232,31,259,29],[232,32,259,30,"magnitude"],[232,41,259,39],[232,42,259,40,"high"],[232,46,259,44],[232,49,259,47,"totalMultiplier"],[232,64,259,62],[233,10,260,8,"medium"],[233,16,260,14],[233,18,260,16,"BASE_THRESHOLDS"],[233,33,260,31],[233,34,260,32,"magnitude"],[233,43,260,41],[233,44,260,42,"medium"],[233,50,260,48],[233,53,260,51,"totalMultiplier"],[234,8,261,6],[235,6,262,4],[235,7,262,5],[236,4,263,2],[238,4,265,2],[239,0,266,0],[240,0,267,0],[241,4,268,10,"classifyEvent"],[241,17,268,23,"classifyEvent"],[241,18,268,24,"params"],[241,24,275,3],[241,26,275,27],[242,6,276,4],[242,12,276,10],[243,8,276,12,"deltaX"],[243,14,276,18],[244,8,276,20,"deltaY"],[244,14,276,26],[245,8,276,28,"deltaZ"],[245,14,276,34],[246,8,276,36,"magnitude"],[246,17,276,45],[247,8,276,47,"thresholds"],[247,18,276,57],[248,8,276,59,"data"],[249,6,276,64],[249,7,276,65],[249,10,276,68,"params"],[249,16,276,74],[250,6,278,4],[250,10,278,8,"eventType"],[250,19,278,28],[250,22,278,31],[250,30,278,39],[251,6,279,4],[251,10,279,8,"severity"],[251,18,279,31],[251,21,279,34],[251,22,279,35],[252,6,280,4],[252,10,280,8,"shouldNotifyUser"],[252,26,280,24],[252,29,280,27],[252,34,280,32],[253,6,281,4],[253,10,281,8,"shouldSendImmediately"],[253,31,281,29],[253,34,281,32],[253,39,281,37],[255,6,283,4],[256,6,284,4],[256,10,284,8,"magnitude"],[256,19,284,17],[256,23,284,21,"thresholds"],[256,33,284,31],[256,34,284,32,"magnitude"],[256,43,284,41],[256,44,284,42,"critical"],[256,52,284,50],[256,54,284,52],[257,8,285,6,"eventType"],[257,17,285,15],[257,20,285,18],[257,29,285,27],[258,8,286,6,"severity"],[258,16,286,14],[258,19,286,17],[258,20,286,18],[259,8,287,6,"shouldNotifyUser"],[259,24,287,22],[259,27,287,25],[259,31,287,29],[260,8,288,6,"shouldSendImmediately"],[260,29,288,27],[260,32,288,30],[260,36,288,34],[261,6,289,4],[262,6,290,4],[263,6,290,4],[263,11,291,9],[263,15,291,13,"deltaY"],[263,21,291,19],[263,25,291,23,"thresholds"],[263,35,291,33],[263,36,291,34,"pothole"],[263,43,291,41],[263,44,291,42,"critical"],[263,52,291,50],[263,54,291,52],[264,8,292,6,"eventType"],[264,17,292,15],[264,20,292,18],[264,29,292,27],[265,8,293,6,"severity"],[265,16,293,14],[265,19,293,17],[265,20,293,18],[266,8,294,6,"shouldNotifyUser"],[266,24,294,22],[266,27,294,25],[266,31,294,29],[267,8,295,6,"shouldSendImmediately"],[267,29,295,27],[267,32,295,30],[267,36,295,34],[268,6,296,4],[268,7,296,5],[268,13,297,9],[268,17,297,13,"deltaY"],[268,23,297,19],[268,27,297,23,"thresholds"],[268,37,297,33],[268,38,297,34,"pothole"],[268,45,297,41],[268,46,297,42,"high"],[268,50,297,46],[268,52,297,48],[269,8,298,6,"eventType"],[269,17,298,15],[269,20,298,18],[269,29,298,27],[270,8,299,6,"severity"],[270,16,299,14],[270,19,299,17],[270,20,299,18],[271,8,300,6,"shouldNotifyUser"],[271,24,300,22],[271,27,300,25],[271,31,300,29],[272,8,301,6,"shouldSendImmediately"],[272,29,301,27],[272,32,301,30],[272,37,301,35],[273,6,302,4],[273,7,302,5],[273,13,303,9],[273,17,303,13,"deltaY"],[273,23,303,19],[273,27,303,23,"thresholds"],[273,37,303,33],[273,38,303,34,"pothole"],[273,45,303,41],[273,46,303,42,"medium"],[273,52,303,48],[273,54,303,50],[274,8,304,6,"eventType"],[274,17,304,15],[274,20,304,18],[274,26,304,24],[275,8,305,6,"severity"],[275,16,305,14],[275,19,305,17],[275,20,305,18],[276,6,306,4],[276,7,306,5],[276,13,307,9],[276,17,307,13,"deltaY"],[276,23,307,19],[276,27,307,23,"thresholds"],[276,37,307,33],[276,38,307,34,"pothole"],[276,45,307,41],[276,46,307,42,"low"],[276,49,307,45],[276,51,307,47],[277,8,308,6,"eventType"],[277,17,308,15],[277,20,308,18],[277,31,308,29],[278,8,309,6,"severity"],[278,16,309,14],[278,19,309,17],[278,20,309,18],[279,6,310,4],[280,6,311,4],[281,6,311,4],[281,11,312,9],[281,15,312,13,"deltaZ"],[281,21,312,19],[281,25,312,23,"thresholds"],[281,35,312,33],[281,36,312,34,"braking"],[281,43,312,41],[281,44,312,42,"emergency"],[281,53,312,51],[281,55,312,53],[282,8,313,6,"eventType"],[282,17,313,15],[282,20,313,18],[282,29,313,27],[283,8,314,6,"severity"],[283,16,314,14],[283,19,314,17],[283,20,314,18],[284,8,315,6,"shouldNotifyUser"],[284,24,315,22],[284,27,315,25],[284,31,315,29],[285,8,316,6,"shouldSendImmediately"],[285,29,316,27],[285,32,316,30],[285,36,316,34],[286,6,317,4],[286,7,317,5],[286,13,318,9],[286,17,318,13,"deltaZ"],[286,23,318,19],[286,27,318,23,"thresholds"],[286,37,318,33],[286,38,318,34,"braking"],[286,45,318,41],[286,46,318,42,"sharp"],[286,51,318,47],[286,53,318,49],[287,8,319,6,"eventType"],[287,17,319,15],[287,20,319,18],[287,29,319,27],[288,8,320,6,"severity"],[288,16,320,14],[288,19,320,17],[288,20,320,18],[289,6,321,4],[289,7,321,5],[289,13,322,9],[289,17,322,13,"deltaZ"],[289,23,322,19],[289,27,322,23,"thresholds"],[289,37,322,33],[289,38,322,34,"braking"],[289,45,322,41],[289,46,322,42,"moderate"],[289,54,322,50],[289,56,322,52],[290,8,323,6,"eventType"],[290,17,323,15],[290,20,323,18],[290,29,323,27],[291,8,324,6,"severity"],[291,16,324,14],[291,19,324,17],[291,20,324,18],[292,6,325,4],[293,6,326,4],[294,6,326,4],[294,11,327,9],[294,15,327,13,"deltaX"],[294,21,327,19],[294,25,327,23,"thresholds"],[294,35,327,33],[294,36,327,34,"lateral"],[294,43,327,41],[294,44,327,42,"sharp"],[294,49,327,47],[294,51,327,49],[295,8,328,6,"eventType"],[295,17,328,15],[295,20,328,18],[295,31,328,29],[296,8,329,6,"severity"],[296,16,329,14],[296,19,329,17],[296,20,329,18],[297,6,330,4],[297,7,330,5],[297,13,331,9],[297,17,331,13,"deltaX"],[297,23,331,19],[297,27,331,23,"thresholds"],[297,37,331,33],[297,38,331,34,"lateral"],[297,45,331,41],[297,46,331,42,"moderate"],[297,54,331,50],[297,56,331,52],[298,8,332,6,"eventType"],[298,17,332,15],[298,20,332,18],[298,31,332,29],[299,8,333,6,"severity"],[299,16,333,14],[299,19,333,17],[299,20,333,18],[300,6,334,4],[302,6,336,4],[303,6,337,4],[303,10,337,8,"eventType"],[303,19,337,17],[303,24,337,22],[303,32,337,30],[303,36,337,34,"magnitude"],[303,45,337,43],[303,48,337,46],[303,51,337,49],[303,53,337,51],[304,8,338,6],[304,15,338,13],[304,19,338,17],[305,6,339,4],[307,6,341,4],[308,6,342,4],[308,12,342,10,"variance"],[308,20,342,18],[308,23,342,21],[308,27,342,25],[308,28,342,26,"calculateVariance"],[308,45,342,43],[308,46,342,44],[308,48,342,46],[308,49,342,47],[309,6,344,4],[309,13,344,11],[310,8,345,6,"eventType"],[310,17,345,15],[311,8,346,6,"severity"],[311,16,346,14],[312,8,347,6,"timestamp"],[312,17,347,15],[312,19,347,17,"data"],[312,23,347,21],[312,24,347,22,"timestamp"],[312,33,347,31],[313,8,348,6,"accelerometer"],[313,21,348,19],[313,23,348,21],[314,10,349,8,"x"],[314,11,349,9],[314,13,349,11,"data"],[314,17,349,15],[314,18,349,16,"x"],[314,19,349,17],[315,10,350,8,"y"],[315,11,350,9],[315,13,350,11,"data"],[315,17,350,15],[315,18,350,16,"y"],[315,19,350,17],[316,10,351,8,"z"],[316,11,351,9],[316,13,351,11,"data"],[316,17,351,15],[316,18,351,16,"z"],[316,19,351,17],[317,10,352,8,"magnitude"],[317,19,352,17],[318,10,353,8,"deltaY"],[318,16,353,14],[319,10,354,8,"deltaZ"],[319,16,354,14],[320,10,355,8,"deltaX"],[320,16,355,14],[321,10,355,16],[322,10,356,8,"variance"],[322,18,356,16],[322,19,356,18],[323,8,357,6],[323,9,357,7],[324,8,358,6,"roadType"],[324,16,358,14],[324,18,358,16],[324,22,358,20],[324,23,358,21,"detectedRoadType"],[324,39,358,37],[325,8,359,6,"shouldNotifyUser"],[325,24,359,22],[326,8,360,6,"shouldSendImmediately"],[327,6,361,4],[327,7,361,5],[328,4,362,2],[330,4,364,2],[331,0,365,0],[332,0,366,0],[333,4,367,2,"getRoadType"],[333,15,367,13,"getRoadType"],[333,16,367,13],[333,18,367,26],[334,6,368,4],[334,13,368,11],[334,17,368,15],[334,18,368,16,"detectedRoadType"],[334,34,368,32],[335,4,369,2],[337,4,371,2],[338,0,372,0],[339,0,373,0],[340,4,374,2,"reset"],[340,9,374,7,"reset"],[340,10,374,7],[340,12,374,10],[341,6,375,4],[341,10,375,8],[341,11,375,9,"previousData"],[341,23,375,21],[341,26,375,24],[341,30,375,28],[342,6,376,4],[342,10,376,8],[342,11,376,9,"roadTypeHistory"],[342,26,376,24],[342,29,376,27],[342,31,376,29],[343,6,377,4],[343,10,377,8],[343,11,377,9,"detectedRoadType"],[343,27,377,25],[343,30,377,28],[343,39,377,37],[344,4,378,2],[345,2,379,0],[346,2,381,0],[346,6,381,0,"_default"],[346,14,381,0],[346,17,381,15,"EventDetector"],[346,30,381,28],[347,0,381,29],[347,3]],"functionMap":{"names":["<global>","EventDetector","constructor","setCalibration","processAccelerometerData","updateRoadTypeHistory","calculateVariance","recentData.reduce$argument_0","detectRoadType","roadTypeHistory.reduce$argument_0","getAdaptiveThresholds","classifyEvent","getRoadType","reset"],"mappings":"AAA;AC+G;ECM;GDE;EEK;GFE;EGK;GHoC;EIK;GJO;EKM;mCCS,uBD;uCCG;KDG;GLG;EOK;qDCM,uBD;GPU;ESK;GTiC;EUK;GV8F;EWK;GXE;EYK;GZI;CDC"},"hasCjsExports":false},"type":"js/module"}]}